/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@signalk";
exports.ids = ["vendor-chunks/@signalk"];
exports.modules = {

/***/ "(ssr)/./node_modules/@signalk/client/dist/index.js":
/*!****************************************************!*\
  !*** ./node_modules/@signalk/client/dist/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.Discovery = exports.Client = void 0;\n\nvar _client = _interopRequireDefault(__webpack_require__(/*! ./lib/client */ \"(ssr)/./node_modules/@signalk/client/dist/lib/client.js\"));\n\nvar _discovery = _interopRequireDefault(__webpack_require__(/*! ./lib/discovery */ \"(ssr)/./node_modules/@signalk/client/dist/lib/discovery.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author        Fabian Tollenaar <fabian@decipher.industries>\n * @copyright     2018-2019, Fabian Tollenaar. All rights reserved.\n * @license       Apache-2.0\n * @module        @signalk/signalk-js-sdk\n */\nconst Client = _client.default;\nexports.Client = Client;\nconst Discovery = _discovery.default;\nexports.Discovery = Discovery;\nvar _default = _client.default;\nexports[\"default\"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0Ysa0JBQWUsR0FBRyxpQkFBaUIsR0FBRyxjQUFjOztBQUVwRCxxQ0FBcUMsbUJBQU8sQ0FBQyw2RUFBYzs7QUFFM0Qsd0NBQXdDLG1CQUFPLENBQUMsbUZBQWlCOztBQUVqRSx1Q0FBdUMsdUNBQXVDOztBQUU5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2NlYXJvLXVpLy4vbm9kZV9tb2R1bGVzL0BzaWduYWxrL2NsaWVudC9kaXN0L2luZGV4LmpzPzBmYmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBleHBvcnRzLkRpc2NvdmVyeSA9IGV4cG9ydHMuQ2xpZW50ID0gdm9pZCAwO1xuXG52YXIgX2NsaWVudCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vbGliL2NsaWVudFwiKSk7XG5cbnZhciBfZGlzY292ZXJ5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9saWIvZGlzY292ZXJ5XCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBAYXV0aG9yICAgICAgICBGYWJpYW4gVG9sbGVuYWFyIDxmYWJpYW5AZGVjaXBoZXIuaW5kdXN0cmllcz5cbiAqIEBjb3B5cmlnaHQgICAgIDIwMTgtMjAxOSwgRmFiaWFuIFRvbGxlbmFhci4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBsaWNlbnNlICAgICAgIEFwYWNoZS0yLjBcbiAqIEBtb2R1bGUgICAgICAgIEBzaWduYWxrL3NpZ25hbGstanMtc2RrXG4gKi9cbmNvbnN0IENsaWVudCA9IF9jbGllbnQuZGVmYXVsdDtcbmV4cG9ydHMuQ2xpZW50ID0gQ2xpZW50O1xuY29uc3QgRGlzY292ZXJ5ID0gX2Rpc2NvdmVyeS5kZWZhdWx0O1xuZXhwb3J0cy5EaXNjb3ZlcnkgPSBEaXNjb3Zlcnk7XG52YXIgX2RlZmF1bHQgPSBfY2xpZW50LmRlZmF1bHQ7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/dist/lib/api.js":
/*!******************************************************!*\
  !*** ./node_modules/@signalk/client/dist/lib/api.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"(ssr)/./node_modules/core-js/modules/es.array.includes.js\");\n\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"(ssr)/./node_modules/core-js/modules/es.string.includes.js\");\n\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"(ssr)/./node_modules/core-js/modules/es.regexp.exec.js\");\n\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"(ssr)/./node_modules/core-js/modules/es.string.replace.js\");\n\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"(ssr)/./node_modules/core-js/modules/es.string.trim.js\");\n\n/**\n * @description   An API wraps the REST API for a Signal K server\n * @author        Fabian Tollenaar <fabian@decipher.industries>\n * @copyright     2018-2019, Fabian Tollenaar. All rights reserved.\n * @license       Apache-2.0\n * @module        @signalk/signalk-js-sdk\n */\nclass API {\n  constructor(connection) {\n    this.connection = connection;\n    this.selfMRN = this.connection.self;\n  }\n\n  get(path) {\n    if (path.includes('.')) {\n      path = path.replace(/\\./g, '/');\n    }\n\n    if (typeof path !== 'string' || path.trim() === '') {\n      path = '/';\n    }\n\n    if (path.charAt(0) !== '/') {\n      path = \"/\".concat(path);\n    }\n\n    return this.connection.fetch(path);\n  }\n\n  put(path, body) {\n    if (path.includes('.')) {\n      path = path.replace(/\\./g, '/');\n    }\n\n    if (typeof path !== 'string' || path.trim() === '') {\n      path = '/';\n    }\n\n    if (path.charAt(0) !== '/') {\n      path = \"/\".concat(path);\n    }\n\n    return this.connection.fetch(path, {\n      method: 'PUT',\n      mode: 'cors',\n      body: body && typeof body === 'object' ? JSON.stringify(body) : body\n    });\n  }\n  /**\n   * Shortcut methods.\n   * @TODO: investigate if we can generate these using a Proxy and signalk-schema, using this.options.version.\n   */\n\n\n  getMeta(path) {\n    return this.get(path).then(result => {\n      if (!result || typeof result !== 'object') {\n        return null;\n      }\n\n      if (!result.hasOwnProperty('meta')) {\n        return null;\n      }\n\n      return result.meta;\n    });\n  }\n\n  sources() {\n    return this.get('/sources');\n  }\n\n  resources() {\n    return this.get('/resources');\n  }\n\n  mrn() {\n    return this.get('/self');\n  }\n\n  vessels() {\n    return this.get('/vessels');\n  }\n\n  aircraft() {\n    return this.get('/aircraft');\n  }\n\n  aton() {\n    return this.get('/aton');\n  }\n\n  sar() {\n    return this.get('/sar');\n  }\n\n  version() {\n    return this.get('/version');\n  }\n\n  self(path) {\n    if (typeof path !== 'string' || path.charAt(0) !== '/') {\n      path = '';\n    }\n\n    return this.connection.fetch(\"/vessels/self\".concat(path));\n  }\n\n  vessel(mrn, path) {\n    if (typeof path !== 'string' || path.charAt(0) !== '/') {\n      path = '';\n    }\n\n    return this.connection.fetch(\"/vessels/\".concat(mrn).concat(path));\n  }\n\n  name() {\n    return this.self('/name');\n  }\n\n  getGroup(group, path) {\n    let vessel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'self';\n\n    if (typeof path !== 'string' || path.charAt(0) !== '/') {\n      path = '';\n    }\n\n    if (vessel === 'self') {\n      return this.self(\"/\".concat(group).concat(path));\n    }\n\n    return this.vessel(vessel, \"/\".concat(group).concat(path));\n  }\n\n  communication() {\n    let path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let vessel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'self';\n    return this.getGroup('communication', path, vessel);\n  }\n\n  design() {\n    let path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let vessel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'self';\n    return this.getGroup('design', path, vessel);\n  }\n\n  electrical() {\n    let path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let vessel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'self';\n    return this.getGroup('electrical', path, vessel);\n  }\n\n  environment() {\n    let path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let vessel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'self';\n    return this.getGroup('environment', path, vessel);\n  }\n\n  navigation() {\n    let path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let vessel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'self';\n    return this.getGroup('navigation', path, vessel);\n  }\n\n  notifications() {\n    let path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let vessel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'self';\n    return this.getGroup('notifications', path, vessel);\n  }\n\n  performance() {\n    let path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let vessel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'self';\n    return this.getGroup('performance', path, vessel);\n  }\n\n  propulsion() {\n    let path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let vessel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'self';\n    return this.getGroup('propulsion', path, vessel);\n  }\n\n  sails() {\n    let path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let vessel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'self';\n    return this.getGroup('sails', path, vessel);\n  }\n\n  sensors() {\n    let path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let vessel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'self';\n    return this.getGroup('sensors', path, vessel);\n  }\n\n  steering() {\n    let path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let vessel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'self';\n    return this.getGroup('steering', path, vessel);\n  }\n\n  tanks() {\n    let path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let vessel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'self';\n    return this.getGroup('tanks', path, vessel);\n  }\n\n}\n\nexports[\"default\"] = API;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L2Rpc3QvbGliL2FwaS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixrQkFBZTs7QUFFZixtQkFBTyxDQUFDLHVHQUFzQzs7QUFFOUMsbUJBQU8sQ0FBQyx5R0FBdUM7O0FBRS9DLG1CQUFPLENBQUMsaUdBQW1DOztBQUUzQyxtQkFBTyxDQUFDLHVHQUFzQzs7QUFFOUMsbUJBQU8sQ0FBQyxpR0FBbUM7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vY2Vhcm8tdWkvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L2Rpc3QvbGliL2FwaS5qcz8yZmNiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG5yZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzXCIpO1xuXG5yZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qc1wiKTtcblxucmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qc1wiKTtcblxucmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qc1wiKTtcblxucmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qc1wiKTtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gICBBbiBBUEkgd3JhcHMgdGhlIFJFU1QgQVBJIGZvciBhIFNpZ25hbCBLIHNlcnZlclxuICogQGF1dGhvciAgICAgICAgRmFiaWFuIFRvbGxlbmFhciA8ZmFiaWFuQGRlY2lwaGVyLmluZHVzdHJpZXM+XG4gKiBAY29weXJpZ2h0ICAgICAyMDE4LTIwMTksIEZhYmlhbiBUb2xsZW5hYXIuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSAgICAgICBBcGFjaGUtMi4wXG4gKiBAbW9kdWxlICAgICAgICBAc2lnbmFsay9zaWduYWxrLWpzLXNka1xuICovXG5jbGFzcyBBUEkge1xuICBjb25zdHJ1Y3Rvcihjb25uZWN0aW9uKSB7XG4gICAgdGhpcy5jb25uZWN0aW9uID0gY29ubmVjdGlvbjtcbiAgICB0aGlzLnNlbGZNUk4gPSB0aGlzLmNvbm5lY3Rpb24uc2VsZjtcbiAgfVxuXG4gIGdldChwYXRoKSB7XG4gICAgaWYgKHBhdGguaW5jbHVkZXMoJy4nKSkge1xuICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXFwuL2csICcvJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJyB8fCBwYXRoLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgIHBhdGggPSAnLyc7XG4gICAgfVxuXG4gICAgaWYgKHBhdGguY2hhckF0KDApICE9PSAnLycpIHtcbiAgICAgIHBhdGggPSBcIi9cIi5jb25jYXQocGF0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5mZXRjaChwYXRoKTtcbiAgfVxuXG4gIHB1dChwYXRoLCBib2R5KSB7XG4gICAgaWYgKHBhdGguaW5jbHVkZXMoJy4nKSkge1xuICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXFwuL2csICcvJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJyB8fCBwYXRoLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgIHBhdGggPSAnLyc7XG4gICAgfVxuXG4gICAgaWYgKHBhdGguY2hhckF0KDApICE9PSAnLycpIHtcbiAgICAgIHBhdGggPSBcIi9cIi5jb25jYXQocGF0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5mZXRjaChwYXRoLCB7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgYm9keTogYm9keSAmJiB0eXBlb2YgYm9keSA9PT0gJ29iamVjdCcgPyBKU09OLnN0cmluZ2lmeShib2R5KSA6IGJvZHlcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogU2hvcnRjdXQgbWV0aG9kcy5cbiAgICogQFRPRE86IGludmVzdGlnYXRlIGlmIHdlIGNhbiBnZW5lcmF0ZSB0aGVzZSB1c2luZyBhIFByb3h5IGFuZCBzaWduYWxrLXNjaGVtYSwgdXNpbmcgdGhpcy5vcHRpb25zLnZlcnNpb24uXG4gICAqL1xuXG5cbiAgZ2V0TWV0YShwYXRoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KHBhdGgpLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgIGlmICghcmVzdWx0IHx8IHR5cGVvZiByZXN1bHQgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXJlc3VsdC5oYXNPd25Qcm9wZXJ0eSgnbWV0YScpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0Lm1ldGE7XG4gICAgfSk7XG4gIH1cblxuICBzb3VyY2VzKCkge1xuICAgIHJldHVybiB0aGlzLmdldCgnL3NvdXJjZXMnKTtcbiAgfVxuXG4gIHJlc291cmNlcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoJy9yZXNvdXJjZXMnKTtcbiAgfVxuXG4gIG1ybigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoJy9zZWxmJyk7XG4gIH1cblxuICB2ZXNzZWxzKCkge1xuICAgIHJldHVybiB0aGlzLmdldCgnL3Zlc3NlbHMnKTtcbiAgfVxuXG4gIGFpcmNyYWZ0KCkge1xuICAgIHJldHVybiB0aGlzLmdldCgnL2FpcmNyYWZ0Jyk7XG4gIH1cblxuICBhdG9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldCgnL2F0b24nKTtcbiAgfVxuXG4gIHNhcigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoJy9zYXInKTtcbiAgfVxuXG4gIHZlcnNpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KCcvdmVyc2lvbicpO1xuICB9XG5cbiAgc2VsZihwYXRoKSB7XG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJyB8fCBwYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICBwYXRoID0gJyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5mZXRjaChcIi92ZXNzZWxzL3NlbGZcIi5jb25jYXQocGF0aCkpO1xuICB9XG5cbiAgdmVzc2VsKG1ybiwgcGF0aCkge1xuICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycgfHwgcGF0aC5jaGFyQXQoMCkgIT09ICcvJykge1xuICAgICAgcGF0aCA9ICcnO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24uZmV0Y2goXCIvdmVzc2Vscy9cIi5jb25jYXQobXJuKS5jb25jYXQocGF0aCkpO1xuICB9XG5cbiAgbmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zZWxmKCcvbmFtZScpO1xuICB9XG5cbiAgZ2V0R3JvdXAoZ3JvdXAsIHBhdGgpIHtcbiAgICBsZXQgdmVzc2VsID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnc2VsZic7XG5cbiAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnIHx8IHBhdGguY2hhckF0KDApICE9PSAnLycpIHtcbiAgICAgIHBhdGggPSAnJztcbiAgICB9XG5cbiAgICBpZiAodmVzc2VsID09PSAnc2VsZicpIHtcbiAgICAgIHJldHVybiB0aGlzLnNlbGYoXCIvXCIuY29uY2F0KGdyb3VwKS5jb25jYXQocGF0aCkpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnZlc3NlbCh2ZXNzZWwsIFwiL1wiLmNvbmNhdChncm91cCkuY29uY2F0KHBhdGgpKTtcbiAgfVxuXG4gIGNvbW11bmljYXRpb24oKSB7XG4gICAgbGV0IHBhdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgIGxldCB2ZXNzZWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdzZWxmJztcbiAgICByZXR1cm4gdGhpcy5nZXRHcm91cCgnY29tbXVuaWNhdGlvbicsIHBhdGgsIHZlc3NlbCk7XG4gIH1cblxuICBkZXNpZ24oKSB7XG4gICAgbGV0IHBhdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgIGxldCB2ZXNzZWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdzZWxmJztcbiAgICByZXR1cm4gdGhpcy5nZXRHcm91cCgnZGVzaWduJywgcGF0aCwgdmVzc2VsKTtcbiAgfVxuXG4gIGVsZWN0cmljYWwoKSB7XG4gICAgbGV0IHBhdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgIGxldCB2ZXNzZWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdzZWxmJztcbiAgICByZXR1cm4gdGhpcy5nZXRHcm91cCgnZWxlY3RyaWNhbCcsIHBhdGgsIHZlc3NlbCk7XG4gIH1cblxuICBlbnZpcm9ubWVudCgpIHtcbiAgICBsZXQgcGF0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgbGV0IHZlc3NlbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ3NlbGYnO1xuICAgIHJldHVybiB0aGlzLmdldEdyb3VwKCdlbnZpcm9ubWVudCcsIHBhdGgsIHZlc3NlbCk7XG4gIH1cblxuICBuYXZpZ2F0aW9uKCkge1xuICAgIGxldCBwYXRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICBsZXQgdmVzc2VsID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnc2VsZic7XG4gICAgcmV0dXJuIHRoaXMuZ2V0R3JvdXAoJ25hdmlnYXRpb24nLCBwYXRoLCB2ZXNzZWwpO1xuICB9XG5cbiAgbm90aWZpY2F0aW9ucygpIHtcbiAgICBsZXQgcGF0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgbGV0IHZlc3NlbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ3NlbGYnO1xuICAgIHJldHVybiB0aGlzLmdldEdyb3VwKCdub3RpZmljYXRpb25zJywgcGF0aCwgdmVzc2VsKTtcbiAgfVxuXG4gIHBlcmZvcm1hbmNlKCkge1xuICAgIGxldCBwYXRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICBsZXQgdmVzc2VsID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnc2VsZic7XG4gICAgcmV0dXJuIHRoaXMuZ2V0R3JvdXAoJ3BlcmZvcm1hbmNlJywgcGF0aCwgdmVzc2VsKTtcbiAgfVxuXG4gIHByb3B1bHNpb24oKSB7XG4gICAgbGV0IHBhdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgIGxldCB2ZXNzZWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdzZWxmJztcbiAgICByZXR1cm4gdGhpcy5nZXRHcm91cCgncHJvcHVsc2lvbicsIHBhdGgsIHZlc3NlbCk7XG4gIH1cblxuICBzYWlscygpIHtcbiAgICBsZXQgcGF0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgbGV0IHZlc3NlbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ3NlbGYnO1xuICAgIHJldHVybiB0aGlzLmdldEdyb3VwKCdzYWlscycsIHBhdGgsIHZlc3NlbCk7XG4gIH1cblxuICBzZW5zb3JzKCkge1xuICAgIGxldCBwYXRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICBsZXQgdmVzc2VsID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnc2VsZic7XG4gICAgcmV0dXJuIHRoaXMuZ2V0R3JvdXAoJ3NlbnNvcnMnLCBwYXRoLCB2ZXNzZWwpO1xuICB9XG5cbiAgc3RlZXJpbmcoKSB7XG4gICAgbGV0IHBhdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgIGxldCB2ZXNzZWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdzZWxmJztcbiAgICByZXR1cm4gdGhpcy5nZXRHcm91cCgnc3RlZXJpbmcnLCBwYXRoLCB2ZXNzZWwpO1xuICB9XG5cbiAgdGFua3MoKSB7XG4gICAgbGV0IHBhdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgIGxldCB2ZXNzZWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdzZWxmJztcbiAgICByZXR1cm4gdGhpcy5nZXRHcm91cCgndGFua3MnLCBwYXRoLCB2ZXNzZWwpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gQVBJOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/dist/lib/api.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/dist/lib/client.js":
/*!*********************************************************!*\
  !*** ./node_modules/@signalk/client/dist/lib/client.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.PERMISSIONS_READWRITE = exports.PERMISSIONS_READONLY = exports.PERMISSIONS_DENY = exports.AUTHENTICATION_REQUEST = void 0;\n\n__webpack_require__(/*! core-js/modules/es.promise.js */ \"(ssr)/./node_modules/core-js/modules/es.promise.js\");\n\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"(ssr)/./node_modules/core-js/modules/web.dom-collections.iterator.js\");\n\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"(ssr)/./node_modules/core-js/modules/es.array.includes.js\");\n\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"(ssr)/./node_modules/core-js/modules/es.string.includes.js\");\n\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"(ssr)/./node_modules/core-js/modules/es.regexp.exec.js\");\n\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"(ssr)/./node_modules/core-js/modules/es.string.replace.js\");\n\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"(ssr)/./node_modules/core-js/modules/es.object.assign.js\");\n\nvar _eventemitter = _interopRequireDefault(__webpack_require__(/*! eventemitter3 */ \"(ssr)/./node_modules/eventemitter3/index.js\"));\n\nvar _connection = _interopRequireDefault(__webpack_require__(/*! ./connection */ \"(ssr)/./node_modules/@signalk/client/dist/lib/connection.js\"));\n\nvar _request = _interopRequireDefault(__webpack_require__(/*! ./request */ \"(ssr)/./node_modules/@signalk/client/dist/lib/request.js\"));\n\nvar _api = _interopRequireDefault(__webpack_require__(/*! ./api */ \"(ssr)/./node_modules/@signalk/client/dist/lib/api.js\"));\n\nvar _debug = _interopRequireDefault(__webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\"));\n\nvar _uuid = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nconst debug = (0, _debug.default)('signalk-js-sdk/Client'); // Constants\n\nconst AUTHENTICATION_REQUEST = '__AUTHENTICATION_REQUEST__'; // Permissions for access requests\n\nexports.AUTHENTICATION_REQUEST = AUTHENTICATION_REQUEST;\nconst PERMISSIONS_READWRITE = 'readwrite';\nexports.PERMISSIONS_READWRITE = PERMISSIONS_READWRITE;\nconst PERMISSIONS_READONLY = 'readonly';\nexports.PERMISSIONS_READONLY = PERMISSIONS_READONLY;\nconst PERMISSIONS_DENY = 'denied';\nexports.PERMISSIONS_DENY = PERMISSIONS_DENY;\n\nclass Client extends _eventemitter.default {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super();\n    this.options = _objectSpread({\n      hostname: 'localhost',\n      port: 3000,\n      useTLS: true,\n      useAuthentication: false,\n      notifications: true,\n      version: 'v1',\n      autoConnect: false,\n      reconnect: true,\n      maxRetries: Infinity,\n      maxTimeBetweenRetries: 2500,\n      mdns: null,\n      username: null,\n      password: null,\n      deltaStreamBehaviour: 'none',\n      subscriptions: [],\n      wsKeepaliveInterval: 0\n    }, options);\n    this.api = null;\n    this.connection = null;\n    this.services = [];\n    this.notifications = {};\n    this.requests = {};\n    this.fetchReady = null;\n\n    if (Array.isArray(this.options.subscriptions)) {\n      this.subscribeCommands = this.options.subscriptions.filter(command => isValidSubscribeCommand(command));\n    }\n\n    if (this.options.notifications === true) {\n      this.subscribeCommands.push({\n        context: 'vessels.self',\n        subscribe: [{\n          path: 'notifications.*',\n          policy: 'instant'\n        }]\n      });\n    }\n\n    if (this.options.autoConnect === true) {\n      this.connect().catch(err => this.emit('error', err));\n    }\n  }\n\n  get self() {\n    if (this.connection === null) {\n      return null;\n    }\n\n    return this.connection.self;\n  }\n\n  set(key, value) {\n    this.options[key] = value;\n    return this;\n  }\n\n  get(key) {\n    return this.options[key] || null;\n  }\n\n  get retries() {\n    if (this.connection === null) {\n      return 0;\n    }\n\n    return this.connection.retries;\n  } // @TODO requesting access should be expanded into a small class to manage the entire flow (including polling)\n\n\n  requestDeviceAccess(description, _clientId) {\n    const clientId = typeof _clientId === 'string' ? _clientId : (0, _uuid.v4)();\n    return this.connection.fetch('/access/requests', {\n      method: 'POST',\n      mode: 'cors',\n      credentials: 'same-origin',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        clientId,\n        description\n      })\n    }).then(response => {\n      return {\n        clientId,\n        response\n      };\n    });\n  }\n\n  respondToAccessRequest(uuid, permissions) {\n    let expiration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '1y';\n    return this.connection.fetch(\"/security/access/requests/\".concat(uuid, \"/\").concat(permissions === 'denied' ? 'denied' : 'approved'), {\n      method: 'PUT',\n      mode: 'cors',\n      credentials: 'same-origin',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        expiration,\n        permissions\n      })\n    });\n  }\n\n  authenticate(username, password) {\n    const request = this.request(AUTHENTICATION_REQUEST, {\n      login: {\n        username,\n        password\n      }\n    });\n    request.on('response', response => {\n      if (response.statusCode === 200 && response.hasOwnProperty('login') && typeof response.login === 'object' && response.login.hasOwnProperty('token')) {\n        this.connection.setAuthenticated(response.login.token); // We are now authenticated\n\n        return this.emit('authenticated', {\n          token: response.login.token\n        });\n      }\n\n      this.emit('error', new Error(\"Error authenticating: status \".concat(response.statusCode)));\n    });\n    request.send();\n  }\n\n  request(name) {\n    let body = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (!this.requests.hasOwnProperty(name)) {\n      this.requests[name] = new _request.default(this.connection, name, body);\n      debug(\"Registered request \\\"\".concat(name, \"\\\" with ID \").concat(this.requests[name].getRequestId()));\n    }\n\n    return this.requests[name];\n  }\n\n  subscribe() {\n    let subscriptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    if (this.connection === null) {\n      throw new Error('Not connected');\n    }\n\n    if (subscriptions && !Array.isArray(subscriptions) && typeof subscriptions === 'object' && subscriptions.hasOwnProperty('subscribe')) {\n      subscriptions = [subscriptions];\n    }\n\n    subscriptions = subscriptions.filter(command => isValidSubscribeCommand(command));\n    subscriptions.forEach(command => {\n      this.subscribeCommands.push(command);\n    });\n    this.connection.subscribe(subscriptions);\n  }\n\n  unsubscribe() {\n    if (this.connection === null) {\n      throw new Error('Not connected');\n    }\n\n    const {\n      notifications\n    } = this.options; // Reset subscribeCommands\n\n    this.subscribeCommands = notifications === true ? [{\n      context: 'vessels.self',\n      subscribe: [{\n        path: 'notifications.*',\n        policy: 'instant'\n      }]\n    }] : []; // Unsubscribe\n\n    this.connection.unsubscribe();\n\n    if (this.subscribeCommands.length > 0) {\n      this.connection.subscribe(this.subscribeCommands);\n    }\n  }\n\n  connect() {\n    if (this.connection !== null) {\n      this.connection.reconnect(true);\n      return Promise.resolve(this.connection);\n    }\n\n    return new Promise((resolve, reject) => {\n      this.connection = new _connection.default(this.options, this.subscribeCommands);\n      this.connection.on('disconnect', data => this.emit('disconnect', data));\n      this.connection.on('message', data => this.processWSMessage(data));\n      this.connection.on('connectionInfo', data => this.emit('connectionInfo', data));\n      this.connection.on('self', data => this.emit('self', data));\n      this.connection.on('hitMaxRetries', () => this.emit('hitMaxRetries'));\n      this.connection.on('backOffBeforeReconnect', data => this.emit('backOffBeforeReconnect', data));\n      this.connection.on('connect', () => {\n        this.getInitialNotifications();\n        this.emit('connect');\n        resolve(this.connection);\n      });\n      this.connection.on('fetchReady', () => {\n        this.fetchReady = true;\n      });\n      this.connection.on('error', err => {\n        this.emit('error', err);\n        reject(err);\n      });\n    });\n  }\n\n  disconnect() {\n    let returnPromise = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (this.connection !== null) {\n      this.connection.on('disconnect', () => {\n        this.cleanupListeners();\n        this.connection = null;\n      });\n      this.connection.unsubscribe();\n      this.connection.disconnect();\n    } else {\n      this.cleanupListeners();\n    }\n\n    if (this.api !== null) {\n      this.api = null;\n    }\n\n    if (returnPromise === true) {\n      return Promise.resolve(this);\n    }\n\n    return this;\n  }\n\n  cleanupListeners() {\n    this.removeAllListeners('self');\n    this.removeAllListeners('connectionInfo');\n    this.removeAllListeners('message');\n    this.removeAllListeners('delta');\n    this.removeAllListeners('connect');\n    this.removeAllListeners('error');\n    this.removeAllListeners('hitMaxRetries');\n    this.removeAllListeners('backOffBeforeReconnect');\n    this.removeAllListeners('disconnect');\n    this.removeAllListeners('unsubscribe');\n    this.removeAllListeners('subscribe');\n  }\n\n  API() {\n    // Returning a Promise, so this method can be used as the start of a promise chain.\n    // I.e., all API methods return Promises, so it makes sense to start the Promise\n    // chain at the top.\n    if (this.connection === null) {\n      return Promise.reject(new Error('There are no available connections. Please connect before you use the REST API.'));\n    }\n\n    if (this.api !== null) {\n      return Promise.resolve(this.api);\n    }\n\n    return new Promise(resolve => {\n      this.api = new _api.default(this.connection);\n\n      if (this.fetchReady === true || this.options.useAuthentication === false) {\n        return resolve(this.api);\n      }\n\n      this.connection.on('fetchReady', () => {\n        resolve(this.api);\n      });\n    });\n  }\n\n  processWSMessage(data) {\n    this.emit('message', data); // Check if message is SK delta, then emit.\n\n    if (data && typeof data === 'object' && data.hasOwnProperty('updates')) {\n      this.checkAndEmitNotificationsInDelta(data);\n      this.emit('delta', data);\n    }\n  }\n\n  checkAndEmitNotificationsInDelta(delta) {\n    if (this.options.notifications === false || !delta || typeof delta !== 'object' || !Array.isArray(delta.updates)) {\n      return;\n    }\n\n    const notifications = {};\n    delta.updates.forEach(update => {\n      (update.values || []).forEach(mut => {\n        if (typeof mut.path === 'string' && mut.path.includes('notifications.')) {\n          notifications[mut.path.replace('notifications.', '')] = _objectSpread({}, mut.value);\n        }\n      });\n    });\n    Object.keys(notifications).forEach(path => {\n      if (!this.notifications.hasOwnProperty(path) || this.notifications[path].timestamp !== notifications[path].timestamp) {\n        this.notifications[path] = _objectSpread({}, notifications[path]);\n\n        const notification = _objectSpread({\n          path\n        }, this.notifications[path]);\n\n        debug(\"[checkAndEmitNotificationsInDelta] emitting notification: \".concat(JSON.stringify(notification, null, 2)));\n        this.emit('notification', notification);\n      }\n    });\n  }\n\n  getInitialNotifications() {\n    if (this.options.notifications === false) {\n      return;\n    }\n\n    if (this.connection === null) {\n      return;\n    }\n\n    if (this.api === null) {\n      this.api = new _api.default(this.connection);\n    }\n\n    this.api.notifications().then(result => {\n      this.notifications = _objectSpread(_objectSpread({}, this.notifications), flattenTree(result));\n      Object.keys(this.notifications).forEach(path => {\n        const notification = _objectSpread({\n          path\n        }, this.notifications[path]);\n\n        debug(\"[getInitialNotifications] emitting notification: \".concat(JSON.stringify(notification, null, 2)));\n        this.emit('notification', notification);\n      });\n      return this.notifications;\n    }).catch(err => {\n      console.error(\"[getInitialNotifications] error getting notifications: \".concat(err.message));\n    });\n  }\n\n}\n\nexports[\"default\"] = Client;\n\nconst flattenTree = tree => {\n  const flattened = {};\n  let cursor = tree;\n  let currentPath = '';\n\n  const evaluateLeaf = key => {\n    currentPath += \"\".concat(currentPath === '' ? '' : '.').concat(key);\n    cursor = cursor[key];\n\n    if (!cursor || typeof cursor !== 'object') {\n      return;\n    }\n\n    if (cursor && typeof cursor === 'object' && cursor.hasOwnProperty('value')) {\n      flattened[currentPath] = Object.assign({}, cursor.value);\n    } else {\n      Object.keys(cursor).forEach(evaluateLeaf);\n    }\n  };\n\n  Object.keys(cursor).forEach(key => evaluateLeaf(key));\n  return flattened;\n};\n\nconst isValidSubscribeCommand = command => {\n  if (!command || typeof command !== 'object') {\n    return false;\n  }\n\n  if (!command.hasOwnProperty('context') || !Array.isArray(command.subscribe)) {\n    return false;\n  }\n\n  return true;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L2Rpc3QvbGliL2NsaWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixrQkFBZSxHQUFHLDZCQUE2QixHQUFHLDRCQUE0QixHQUFHLHdCQUF3QixHQUFHLDhCQUE4Qjs7QUFFMUksbUJBQU8sQ0FBQyx5RkFBK0I7O0FBRXZDLG1CQUFPLENBQUMsNkhBQWlEOztBQUV6RCxtQkFBTyxDQUFDLHVHQUFzQzs7QUFFOUMsbUJBQU8sQ0FBQyx5R0FBdUM7O0FBRS9DLG1CQUFPLENBQUMsaUdBQW1DOztBQUUzQyxtQkFBTyxDQUFDLHVHQUFzQzs7QUFFOUMsbUJBQU8sQ0FBQyxxR0FBcUM7O0FBRTdDLDJDQUEyQyxtQkFBTyxDQUFDLGtFQUFlOztBQUVsRSx5Q0FBeUMsbUJBQU8sQ0FBQyxpRkFBYzs7QUFFL0Qsc0NBQXNDLG1CQUFPLENBQUMsMkVBQVc7O0FBRXpELGtDQUFrQyxtQkFBTyxDQUFDLG1FQUFPOztBQUVqRCxvQ0FBb0MsbUJBQU8sQ0FBQyxzREFBTzs7QUFFbkQsWUFBWSxtQkFBTyxDQUFDLDJGQUFNOztBQUUxQix1Q0FBdUMsdUNBQXVDOztBQUU5RSwyQ0FBMkMsZ0NBQWdDLG9DQUFvQyxvREFBb0QsNkRBQTZELGlFQUFpRSxzQ0FBc0M7O0FBRXZVLGlDQUFpQyxnQkFBZ0Isc0JBQXNCLE9BQU8sdURBQXVELDZEQUE2RCw0Q0FBNEMsb0tBQW9LLG1GQUFtRixLQUFLOztBQUUxZSw0Q0FBNEMsa0JBQWtCLGtDQUFrQyxvRUFBb0UsS0FBSyxPQUFPLG9CQUFvQjs7QUFFcE0sNERBQTREOztBQUU1RCw2REFBNkQ7O0FBRTdELDhCQUE4QjtBQUM5QjtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBLHdCQUF3Qjs7QUFFeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxnRUFBZ0U7O0FBRWhFO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLGdCQUFnQjs7QUFFdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLLFFBQVE7O0FBRWI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxnQ0FBZ0M7O0FBRWhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0Y7QUFDbEY7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxtREFBbUQ7O0FBRW5EO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQSxrQkFBZTs7QUFFZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDO0FBQy9DLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2NlYXJvLXVpLy4vbm9kZV9tb2R1bGVzL0BzaWduYWxrL2NsaWVudC9kaXN0L2xpYi9jbGllbnQuanM/MmM2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGV4cG9ydHMuUEVSTUlTU0lPTlNfUkVBRFdSSVRFID0gZXhwb3J0cy5QRVJNSVNTSU9OU19SRUFET05MWSA9IGV4cG9ydHMuUEVSTUlTU0lPTlNfREVOWSA9IGV4cG9ydHMuQVVUSEVOVElDQVRJT05fUkVRVUVTVCA9IHZvaWQgMDtcblxucmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlLmpzXCIpO1xuXG5yZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanNcIik7XG5cbnJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanNcIik7XG5cbnJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzXCIpO1xuXG5yZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzXCIpO1xuXG5yZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzXCIpO1xuXG5yZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5hc3NpZ24uanNcIik7XG5cbnZhciBfZXZlbnRlbWl0dGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiZXZlbnRlbWl0dGVyM1wiKSk7XG5cbnZhciBfY29ubmVjdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vY29ubmVjdGlvblwiKSk7XG5cbnZhciBfcmVxdWVzdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vcmVxdWVzdFwiKSk7XG5cbnZhciBfYXBpID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9hcGlcIikpO1xuXG52YXIgX2RlYnVnID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiZGVidWdcIikpO1xuXG52YXIgX3V1aWQgPSByZXF1aXJlKFwidXVpZFwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuY29uc3QgZGVidWcgPSAoMCwgX2RlYnVnLmRlZmF1bHQpKCdzaWduYWxrLWpzLXNkay9DbGllbnQnKTsgLy8gQ29uc3RhbnRzXG5cbmNvbnN0IEFVVEhFTlRJQ0FUSU9OX1JFUVVFU1QgPSAnX19BVVRIRU5USUNBVElPTl9SRVFVRVNUX18nOyAvLyBQZXJtaXNzaW9ucyBmb3IgYWNjZXNzIHJlcXVlc3RzXG5cbmV4cG9ydHMuQVVUSEVOVElDQVRJT05fUkVRVUVTVCA9IEFVVEhFTlRJQ0FUSU9OX1JFUVVFU1Q7XG5jb25zdCBQRVJNSVNTSU9OU19SRUFEV1JJVEUgPSAncmVhZHdyaXRlJztcbmV4cG9ydHMuUEVSTUlTU0lPTlNfUkVBRFdSSVRFID0gUEVSTUlTU0lPTlNfUkVBRFdSSVRFO1xuY29uc3QgUEVSTUlTU0lPTlNfUkVBRE9OTFkgPSAncmVhZG9ubHknO1xuZXhwb3J0cy5QRVJNSVNTSU9OU19SRUFET05MWSA9IFBFUk1JU1NJT05TX1JFQURPTkxZO1xuY29uc3QgUEVSTUlTU0lPTlNfREVOWSA9ICdkZW5pZWQnO1xuZXhwb3J0cy5QRVJNSVNTSU9OU19ERU5ZID0gUEVSTUlTU0lPTlNfREVOWTtcblxuY2xhc3MgQ2xpZW50IGV4dGVuZHMgX2V2ZW50ZW1pdHRlci5kZWZhdWx0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5vcHRpb25zID0gX29iamVjdFNwcmVhZCh7XG4gICAgICBob3N0bmFtZTogJ2xvY2FsaG9zdCcsXG4gICAgICBwb3J0OiAzMDAwLFxuICAgICAgdXNlVExTOiB0cnVlLFxuICAgICAgdXNlQXV0aGVudGljYXRpb246IGZhbHNlLFxuICAgICAgbm90aWZpY2F0aW9uczogdHJ1ZSxcbiAgICAgIHZlcnNpb246ICd2MScsXG4gICAgICBhdXRvQ29ubmVjdDogZmFsc2UsXG4gICAgICByZWNvbm5lY3Q6IHRydWUsXG4gICAgICBtYXhSZXRyaWVzOiBJbmZpbml0eSxcbiAgICAgIG1heFRpbWVCZXR3ZWVuUmV0cmllczogMjUwMCxcbiAgICAgIG1kbnM6IG51bGwsXG4gICAgICB1c2VybmFtZTogbnVsbCxcbiAgICAgIHBhc3N3b3JkOiBudWxsLFxuICAgICAgZGVsdGFTdHJlYW1CZWhhdmlvdXI6ICdub25lJyxcbiAgICAgIHN1YnNjcmlwdGlvbnM6IFtdLFxuICAgICAgd3NLZWVwYWxpdmVJbnRlcnZhbDogMFxuICAgIH0sIG9wdGlvbnMpO1xuICAgIHRoaXMuYXBpID0gbnVsbDtcbiAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgIHRoaXMuc2VydmljZXMgPSBbXTtcbiAgICB0aGlzLm5vdGlmaWNhdGlvbnMgPSB7fTtcbiAgICB0aGlzLnJlcXVlc3RzID0ge307XG4gICAgdGhpcy5mZXRjaFJlYWR5ID0gbnVsbDtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucy5zdWJzY3JpcHRpb25zKSkge1xuICAgICAgdGhpcy5zdWJzY3JpYmVDb21tYW5kcyA9IHRoaXMub3B0aW9ucy5zdWJzY3JpcHRpb25zLmZpbHRlcihjb21tYW5kID0+IGlzVmFsaWRTdWJzY3JpYmVDb21tYW5kKGNvbW1hbmQpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLm5vdGlmaWNhdGlvbnMgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuc3Vic2NyaWJlQ29tbWFuZHMucHVzaCh7XG4gICAgICAgIGNvbnRleHQ6ICd2ZXNzZWxzLnNlbGYnLFxuICAgICAgICBzdWJzY3JpYmU6IFt7XG4gICAgICAgICAgcGF0aDogJ25vdGlmaWNhdGlvbnMuKicsXG4gICAgICAgICAgcG9saWN5OiAnaW5zdGFudCdcbiAgICAgICAgfV1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0Nvbm5lY3QgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuY29ubmVjdCgpLmNhdGNoKGVyciA9PiB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHNlbGYoKSB7XG4gICAgaWYgKHRoaXMuY29ubmVjdGlvbiA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5zZWxmO1xuICB9XG5cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICB0aGlzLm9wdGlvbnNba2V5XSA9IHZhbHVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0KGtleSkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnNba2V5XSB8fCBudWxsO1xuICB9XG5cbiAgZ2V0IHJldHJpZXMoKSB7XG4gICAgaWYgKHRoaXMuY29ubmVjdGlvbiA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5yZXRyaWVzO1xuICB9IC8vIEBUT0RPIHJlcXVlc3RpbmcgYWNjZXNzIHNob3VsZCBiZSBleHBhbmRlZCBpbnRvIGEgc21hbGwgY2xhc3MgdG8gbWFuYWdlIHRoZSBlbnRpcmUgZmxvdyAoaW5jbHVkaW5nIHBvbGxpbmcpXG5cblxuICByZXF1ZXN0RGV2aWNlQWNjZXNzKGRlc2NyaXB0aW9uLCBfY2xpZW50SWQpIHtcbiAgICBjb25zdCBjbGllbnRJZCA9IHR5cGVvZiBfY2xpZW50SWQgPT09ICdzdHJpbmcnID8gX2NsaWVudElkIDogKDAsIF91dWlkLnY0KSgpO1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24uZmV0Y2goJy9hY2Nlc3MvcmVxdWVzdHMnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIG1vZGU6ICdjb3JzJyxcbiAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBjbGllbnRJZCxcbiAgICAgICAgZGVzY3JpcHRpb25cbiAgICAgIH0pXG4gICAgfSkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjbGllbnRJZCxcbiAgICAgICAgcmVzcG9uc2VcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICByZXNwb25kVG9BY2Nlc3NSZXF1ZXN0KHV1aWQsIHBlcm1pc3Npb25zKSB7XG4gICAgbGV0IGV4cGlyYXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICcxeSc7XG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5mZXRjaChcIi9zZWN1cml0eS9hY2Nlc3MvcmVxdWVzdHMvXCIuY29uY2F0KHV1aWQsIFwiL1wiKS5jb25jYXQocGVybWlzc2lvbnMgPT09ICdkZW5pZWQnID8gJ2RlbmllZCcgOiAnYXBwcm92ZWQnKSwge1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIG1vZGU6ICdjb3JzJyxcbiAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBleHBpcmF0aW9uLFxuICAgICAgICBwZXJtaXNzaW9uc1xuICAgICAgfSlcbiAgICB9KTtcbiAgfVxuXG4gIGF1dGhlbnRpY2F0ZSh1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5yZXF1ZXN0KEFVVEhFTlRJQ0FUSU9OX1JFUVVFU1QsIHtcbiAgICAgIGxvZ2luOiB7XG4gICAgICAgIHVzZXJuYW1lLFxuICAgICAgICBwYXNzd29yZFxuICAgICAgfVxuICAgIH0pO1xuICAgIHJlcXVlc3Qub24oJ3Jlc3BvbnNlJywgcmVzcG9uc2UgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDIwMCAmJiByZXNwb25zZS5oYXNPd25Qcm9wZXJ0eSgnbG9naW4nKSAmJiB0eXBlb2YgcmVzcG9uc2UubG9naW4gPT09ICdvYmplY3QnICYmIHJlc3BvbnNlLmxvZ2luLmhhc093blByb3BlcnR5KCd0b2tlbicpKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5zZXRBdXRoZW50aWNhdGVkKHJlc3BvbnNlLmxvZ2luLnRva2VuKTsgLy8gV2UgYXJlIG5vdyBhdXRoZW50aWNhdGVkXG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdCgnYXV0aGVudGljYXRlZCcsIHtcbiAgICAgICAgICB0b2tlbjogcmVzcG9uc2UubG9naW4udG9rZW5cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoXCJFcnJvciBhdXRoZW50aWNhdGluZzogc3RhdHVzIFwiLmNvbmNhdChyZXNwb25zZS5zdGF0dXNDb2RlKSkpO1xuICAgIH0pO1xuICAgIHJlcXVlc3Quc2VuZCgpO1xuICB9XG5cbiAgcmVxdWVzdChuYW1lKSB7XG4gICAgbGV0IGJvZHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgaWYgKCF0aGlzLnJlcXVlc3RzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICB0aGlzLnJlcXVlc3RzW25hbWVdID0gbmV3IF9yZXF1ZXN0LmRlZmF1bHQodGhpcy5jb25uZWN0aW9uLCBuYW1lLCBib2R5KTtcbiAgICAgIGRlYnVnKFwiUmVnaXN0ZXJlZCByZXF1ZXN0IFxcXCJcIi5jb25jYXQobmFtZSwgXCJcXFwiIHdpdGggSUQgXCIpLmNvbmNhdCh0aGlzLnJlcXVlc3RzW25hbWVdLmdldFJlcXVlc3RJZCgpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdHNbbmFtZV07XG4gIH1cblxuICBzdWJzY3JpYmUoKSB7XG4gICAgbGV0IHN1YnNjcmlwdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdO1xuXG4gICAgaWYgKHRoaXMuY29ubmVjdGlvbiA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgY29ubmVjdGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKHN1YnNjcmlwdGlvbnMgJiYgIUFycmF5LmlzQXJyYXkoc3Vic2NyaXB0aW9ucykgJiYgdHlwZW9mIHN1YnNjcmlwdGlvbnMgPT09ICdvYmplY3QnICYmIHN1YnNjcmlwdGlvbnMuaGFzT3duUHJvcGVydHkoJ3N1YnNjcmliZScpKSB7XG4gICAgICBzdWJzY3JpcHRpb25zID0gW3N1YnNjcmlwdGlvbnNdO1xuICAgIH1cblxuICAgIHN1YnNjcmlwdGlvbnMgPSBzdWJzY3JpcHRpb25zLmZpbHRlcihjb21tYW5kID0+IGlzVmFsaWRTdWJzY3JpYmVDb21tYW5kKGNvbW1hbmQpKTtcbiAgICBzdWJzY3JpcHRpb25zLmZvckVhY2goY29tbWFuZCA9PiB7XG4gICAgICB0aGlzLnN1YnNjcmliZUNvbW1hbmRzLnB1c2goY29tbWFuZCk7XG4gICAgfSk7XG4gICAgdGhpcy5jb25uZWN0aW9uLnN1YnNjcmliZShzdWJzY3JpcHRpb25zKTtcbiAgfVxuXG4gIHVuc3Vic2NyaWJlKCkge1xuICAgIGlmICh0aGlzLmNvbm5lY3Rpb24gPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGNvbm5lY3RlZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IHtcbiAgICAgIG5vdGlmaWNhdGlvbnNcbiAgICB9ID0gdGhpcy5vcHRpb25zOyAvLyBSZXNldCBzdWJzY3JpYmVDb21tYW5kc1xuXG4gICAgdGhpcy5zdWJzY3JpYmVDb21tYW5kcyA9IG5vdGlmaWNhdGlvbnMgPT09IHRydWUgPyBbe1xuICAgICAgY29udGV4dDogJ3Zlc3NlbHMuc2VsZicsXG4gICAgICBzdWJzY3JpYmU6IFt7XG4gICAgICAgIHBhdGg6ICdub3RpZmljYXRpb25zLionLFxuICAgICAgICBwb2xpY3k6ICdpbnN0YW50J1xuICAgICAgfV1cbiAgICB9XSA6IFtdOyAvLyBVbnN1YnNjcmliZVxuXG4gICAgdGhpcy5jb25uZWN0aW9uLnVuc3Vic2NyaWJlKCk7XG5cbiAgICBpZiAodGhpcy5zdWJzY3JpYmVDb21tYW5kcy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmNvbm5lY3Rpb24uc3Vic2NyaWJlKHRoaXMuc3Vic2NyaWJlQ29tbWFuZHMpO1xuICAgIH1cbiAgfVxuXG4gIGNvbm5lY3QoKSB7XG4gICAgaWYgKHRoaXMuY29ubmVjdGlvbiAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5jb25uZWN0aW9uLnJlY29ubmVjdCh0cnVlKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5jb25uZWN0aW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5jb25uZWN0aW9uID0gbmV3IF9jb25uZWN0aW9uLmRlZmF1bHQodGhpcy5vcHRpb25zLCB0aGlzLnN1YnNjcmliZUNvbW1hbmRzKTtcbiAgICAgIHRoaXMuY29ubmVjdGlvbi5vbignZGlzY29ubmVjdCcsIGRhdGEgPT4gdGhpcy5lbWl0KCdkaXNjb25uZWN0JywgZGF0YSkpO1xuICAgICAgdGhpcy5jb25uZWN0aW9uLm9uKCdtZXNzYWdlJywgZGF0YSA9PiB0aGlzLnByb2Nlc3NXU01lc3NhZ2UoZGF0YSkpO1xuICAgICAgdGhpcy5jb25uZWN0aW9uLm9uKCdjb25uZWN0aW9uSW5mbycsIGRhdGEgPT4gdGhpcy5lbWl0KCdjb25uZWN0aW9uSW5mbycsIGRhdGEpKTtcbiAgICAgIHRoaXMuY29ubmVjdGlvbi5vbignc2VsZicsIGRhdGEgPT4gdGhpcy5lbWl0KCdzZWxmJywgZGF0YSkpO1xuICAgICAgdGhpcy5jb25uZWN0aW9uLm9uKCdoaXRNYXhSZXRyaWVzJywgKCkgPT4gdGhpcy5lbWl0KCdoaXRNYXhSZXRyaWVzJykpO1xuICAgICAgdGhpcy5jb25uZWN0aW9uLm9uKCdiYWNrT2ZmQmVmb3JlUmVjb25uZWN0JywgZGF0YSA9PiB0aGlzLmVtaXQoJ2JhY2tPZmZCZWZvcmVSZWNvbm5lY3QnLCBkYXRhKSk7XG4gICAgICB0aGlzLmNvbm5lY3Rpb24ub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZ2V0SW5pdGlhbE5vdGlmaWNhdGlvbnMoKTtcbiAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0Jyk7XG4gICAgICAgIHJlc29sdmUodGhpcy5jb25uZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5jb25uZWN0aW9uLm9uKCdmZXRjaFJlYWR5JywgKCkgPT4ge1xuICAgICAgICB0aGlzLmZldGNoUmVhZHkgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmNvbm5lY3Rpb24ub24oJ2Vycm9yJywgZXJyID0+IHtcbiAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBkaXNjb25uZWN0KCkge1xuICAgIGxldCByZXR1cm5Qcm9taXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgIGlmICh0aGlzLmNvbm5lY3Rpb24gIT09IG51bGwpIHtcbiAgICAgIHRoaXMuY29ubmVjdGlvbi5vbignZGlzY29ubmVjdCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5jbGVhbnVwTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgdGhpcy5jb25uZWN0aW9uLmRpc2Nvbm5lY3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jbGVhbnVwTGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYXBpICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmFwaSA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHJldHVyblByb21pc2UgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjbGVhbnVwTGlzdGVuZXJzKCkge1xuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdzZWxmJyk7XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ2Nvbm5lY3Rpb25JbmZvJyk7XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ21lc3NhZ2UnKTtcbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygnZGVsdGEnKTtcbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygnY29ubmVjdCcpO1xuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdlcnJvcicpO1xuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdoaXRNYXhSZXRyaWVzJyk7XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ2JhY2tPZmZCZWZvcmVSZWNvbm5lY3QnKTtcbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygnZGlzY29ubmVjdCcpO1xuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCd1bnN1YnNjcmliZScpO1xuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdzdWJzY3JpYmUnKTtcbiAgfVxuXG4gIEFQSSgpIHtcbiAgICAvLyBSZXR1cm5pbmcgYSBQcm9taXNlLCBzbyB0aGlzIG1ldGhvZCBjYW4gYmUgdXNlZCBhcyB0aGUgc3RhcnQgb2YgYSBwcm9taXNlIGNoYWluLlxuICAgIC8vIEkuZS4sIGFsbCBBUEkgbWV0aG9kcyByZXR1cm4gUHJvbWlzZXMsIHNvIGl0IG1ha2VzIHNlbnNlIHRvIHN0YXJ0IHRoZSBQcm9taXNlXG4gICAgLy8gY2hhaW4gYXQgdGhlIHRvcC5cbiAgICBpZiAodGhpcy5jb25uZWN0aW9uID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdUaGVyZSBhcmUgbm8gYXZhaWxhYmxlIGNvbm5lY3Rpb25zLiBQbGVhc2UgY29ubmVjdCBiZWZvcmUgeW91IHVzZSB0aGUgUkVTVCBBUEkuJykpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmFwaSAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmFwaSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgdGhpcy5hcGkgPSBuZXcgX2FwaS5kZWZhdWx0KHRoaXMuY29ubmVjdGlvbik7XG5cbiAgICAgIGlmICh0aGlzLmZldGNoUmVhZHkgPT09IHRydWUgfHwgdGhpcy5vcHRpb25zLnVzZUF1dGhlbnRpY2F0aW9uID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZSh0aGlzLmFwaSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY29ubmVjdGlvbi5vbignZmV0Y2hSZWFkeScsICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSh0aGlzLmFwaSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByb2Nlc3NXU01lc3NhZ2UoZGF0YSkge1xuICAgIHRoaXMuZW1pdCgnbWVzc2FnZScsIGRhdGEpOyAvLyBDaGVjayBpZiBtZXNzYWdlIGlzIFNLIGRlbHRhLCB0aGVuIGVtaXQuXG5cbiAgICBpZiAoZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgZGF0YS5oYXNPd25Qcm9wZXJ0eSgndXBkYXRlcycpKSB7XG4gICAgICB0aGlzLmNoZWNrQW5kRW1pdE5vdGlmaWNhdGlvbnNJbkRlbHRhKGRhdGEpO1xuICAgICAgdGhpcy5lbWl0KCdkZWx0YScsIGRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIGNoZWNrQW5kRW1pdE5vdGlmaWNhdGlvbnNJbkRlbHRhKGRlbHRhKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5ub3RpZmljYXRpb25zID09PSBmYWxzZSB8fCAhZGVsdGEgfHwgdHlwZW9mIGRlbHRhICE9PSAnb2JqZWN0JyB8fCAhQXJyYXkuaXNBcnJheShkZWx0YS51cGRhdGVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5vdGlmaWNhdGlvbnMgPSB7fTtcbiAgICBkZWx0YS51cGRhdGVzLmZvckVhY2godXBkYXRlID0+IHtcbiAgICAgICh1cGRhdGUudmFsdWVzIHx8IFtdKS5mb3JFYWNoKG11dCA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgbXV0LnBhdGggPT09ICdzdHJpbmcnICYmIG11dC5wYXRoLmluY2x1ZGVzKCdub3RpZmljYXRpb25zLicpKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uc1ttdXQucGF0aC5yZXBsYWNlKCdub3RpZmljYXRpb25zLicsICcnKV0gPSBfb2JqZWN0U3ByZWFkKHt9LCBtdXQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBPYmplY3Qua2V5cyhub3RpZmljYXRpb25zKS5mb3JFYWNoKHBhdGggPT4ge1xuICAgICAgaWYgKCF0aGlzLm5vdGlmaWNhdGlvbnMuaGFzT3duUHJvcGVydHkocGF0aCkgfHwgdGhpcy5ub3RpZmljYXRpb25zW3BhdGhdLnRpbWVzdGFtcCAhPT0gbm90aWZpY2F0aW9uc1twYXRoXS50aW1lc3RhbXApIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zW3BhdGhdID0gX29iamVjdFNwcmVhZCh7fSwgbm90aWZpY2F0aW9uc1twYXRoXSk7XG5cbiAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgcGF0aFxuICAgICAgICB9LCB0aGlzLm5vdGlmaWNhdGlvbnNbcGF0aF0pO1xuXG4gICAgICAgIGRlYnVnKFwiW2NoZWNrQW5kRW1pdE5vdGlmaWNhdGlvbnNJbkRlbHRhXSBlbWl0dGluZyBub3RpZmljYXRpb246IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShub3RpZmljYXRpb24sIG51bGwsIDIpKSk7XG4gICAgICAgIHRoaXMuZW1pdCgnbm90aWZpY2F0aW9uJywgbm90aWZpY2F0aW9uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGdldEluaXRpYWxOb3RpZmljYXRpb25zKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMubm90aWZpY2F0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb25uZWN0aW9uID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYXBpID09PSBudWxsKSB7XG4gICAgICB0aGlzLmFwaSA9IG5ldyBfYXBpLmRlZmF1bHQodGhpcy5jb25uZWN0aW9uKTtcbiAgICB9XG5cbiAgICB0aGlzLmFwaS5ub3RpZmljYXRpb25zKCkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgdGhpcy5ub3RpZmljYXRpb25zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLm5vdGlmaWNhdGlvbnMpLCBmbGF0dGVuVHJlZShyZXN1bHQpKTtcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMubm90aWZpY2F0aW9ucykuZm9yRWFjaChwYXRoID0+IHtcbiAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgcGF0aFxuICAgICAgICB9LCB0aGlzLm5vdGlmaWNhdGlvbnNbcGF0aF0pO1xuXG4gICAgICAgIGRlYnVnKFwiW2dldEluaXRpYWxOb3RpZmljYXRpb25zXSBlbWl0dGluZyBub3RpZmljYXRpb246IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShub3RpZmljYXRpb24sIG51bGwsIDIpKSk7XG4gICAgICAgIHRoaXMuZW1pdCgnbm90aWZpY2F0aW9uJywgbm90aWZpY2F0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXMubm90aWZpY2F0aW9ucztcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIltnZXRJbml0aWFsTm90aWZpY2F0aW9uc10gZXJyb3IgZ2V0dGluZyBub3RpZmljYXRpb25zOiBcIi5jb25jYXQoZXJyLm1lc3NhZ2UpKTtcbiAgICB9KTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENsaWVudDtcblxuY29uc3QgZmxhdHRlblRyZWUgPSB0cmVlID0+IHtcbiAgY29uc3QgZmxhdHRlbmVkID0ge307XG4gIGxldCBjdXJzb3IgPSB0cmVlO1xuICBsZXQgY3VycmVudFBhdGggPSAnJztcblxuICBjb25zdCBldmFsdWF0ZUxlYWYgPSBrZXkgPT4ge1xuICAgIGN1cnJlbnRQYXRoICs9IFwiXCIuY29uY2F0KGN1cnJlbnRQYXRoID09PSAnJyA/ICcnIDogJy4nKS5jb25jYXQoa2V5KTtcbiAgICBjdXJzb3IgPSBjdXJzb3Jba2V5XTtcblxuICAgIGlmICghY3Vyc29yIHx8IHR5cGVvZiBjdXJzb3IgIT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGN1cnNvciAmJiB0eXBlb2YgY3Vyc29yID09PSAnb2JqZWN0JyAmJiBjdXJzb3IuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykpIHtcbiAgICAgIGZsYXR0ZW5lZFtjdXJyZW50UGF0aF0gPSBPYmplY3QuYXNzaWduKHt9LCBjdXJzb3IudmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBPYmplY3Qua2V5cyhjdXJzb3IpLmZvckVhY2goZXZhbHVhdGVMZWFmKTtcbiAgICB9XG4gIH07XG5cbiAgT2JqZWN0LmtleXMoY3Vyc29yKS5mb3JFYWNoKGtleSA9PiBldmFsdWF0ZUxlYWYoa2V5KSk7XG4gIHJldHVybiBmbGF0dGVuZWQ7XG59O1xuXG5jb25zdCBpc1ZhbGlkU3Vic2NyaWJlQ29tbWFuZCA9IGNvbW1hbmQgPT4ge1xuICBpZiAoIWNvbW1hbmQgfHwgdHlwZW9mIGNvbW1hbmQgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFjb21tYW5kLmhhc093blByb3BlcnR5KCdjb250ZXh0JykgfHwgIUFycmF5LmlzQXJyYXkoY29tbWFuZC5zdWJzY3JpYmUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/dist/lib/client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/dist/lib/connection.js":
/*!*************************************************************!*\
  !*** ./node_modules/@signalk/client/dist/lib/connection.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.SUPPORTED_STREAM_BEHAVIOUR = exports.SUPPORTED_SEND_META = void 0;\n\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"(ssr)/./node_modules/core-js/modules/es.string.trim.js\");\n\n__webpack_require__(/*! core-js/modules/es.promise.js */ \"(ssr)/./node_modules/core-js/modules/es.promise.js\");\n\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"(ssr)/./node_modules/core-js/modules/es.array.includes.js\");\n\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"(ssr)/./node_modules/core-js/modules/es.string.includes.js\");\n\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"(ssr)/./node_modules/core-js/modules/es.regexp.exec.js\");\n\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"(ssr)/./node_modules/core-js/modules/es.string.replace.js\");\n\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"(ssr)/./node_modules/core-js/modules/es.array.reduce.js\");\n\nvar _eventemitter = _interopRequireDefault(__webpack_require__(/*! eventemitter3 */ \"(ssr)/./node_modules/eventemitter3/index.js\"));\n\nvar _isomorphicWs = _interopRequireDefault(__webpack_require__(/*! isomorphic-ws */ \"(ssr)/./node_modules/isomorphic-ws/node.js\"));\n\nvar _crossFetch = _interopRequireDefault(__webpack_require__(/*! cross-fetch */ \"(ssr)/./node_modules/cross-fetch/dist/node-ponyfill.js\"));\n\nvar _debug = _interopRequireDefault(__webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\"));\n\nvar _https = _interopRequireDefault(__webpack_require__(/*! https */ \"https\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nconst debug = (0, _debug.default)('signalk-js-sdk/Connection');\nconst isNode = typeof process !== 'undefined' && process.versions != null && process.versions.node != null;\nconst SUPPORTED_STREAM_BEHAVIOUR = {\n  self: 'self',\n  all: 'all',\n  none: 'none'\n};\nexports.SUPPORTED_STREAM_BEHAVIOUR = SUPPORTED_STREAM_BEHAVIOUR;\nconst SUPPORTED_SEND_META = {\n  all: 'all'\n};\nexports.SUPPORTED_SEND_META = SUPPORTED_SEND_META;\n\nclass Connection extends _eventemitter.default {\n  constructor(options) {\n    let subscriptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    super();\n    this.options = options;\n    this.httpURI = this.buildURI('http');\n    this.wsURI = this.buildURI('ws');\n    this.shouldDisconnect = false;\n    this.connected = false;\n    this.socket = null;\n    this.lastMessage = -1;\n    this.isConnecting = false;\n    this.wsKeepaliveIntervalMs = this.options.wsKeepaliveInterval * 1000;\n    this._fetchReady = false;\n    this._bearerTokenPrefix = this.options.bearerTokenPrefix || 'Bearer';\n    this._authenticated = false;\n    this._retries = 0;\n    this._connection = null;\n    this._self = '';\n    this._subscriptions = subscriptions;\n    this.sendKeepaliveWithReschedule = this.sendKeepaliveWithReschedule.bind(this);\n    this.onWSMessage = this._onWSMessage.bind(this);\n    this.onWSOpen = this._onWSOpen.bind(this);\n    this.onWSClose = this._onWSClose.bind(this);\n    this.onWSError = this._onWSError.bind(this);\n    this._token = {\n      kind: '',\n      token: ''\n    };\n    this.reconnect(true);\n  }\n\n  get retries() {\n    return this._retries;\n  }\n\n  set self(data) {\n    if (data !== null) {\n      this.emit('self', data);\n    }\n\n    this._self = data;\n  }\n\n  get self() {\n    return this._self;\n  }\n\n  set connectionInfo(data) {\n    if (data !== null) {\n      this.emit('connectionInfo', data);\n    }\n\n    this._connection = data;\n    this.self = data.self;\n  }\n\n  get connectionInfo() {\n    return this._connection;\n  }\n\n  buildURI(protocol) {\n    const {\n      useTLS,\n      hostname,\n      port,\n      version,\n      deltaStreamBehaviour,\n      sendMeta\n    } = this.options;\n    let uri = useTLS === true ? \"\".concat(protocol, \"s://\") : \"\".concat(protocol, \"://\");\n    uri += hostname;\n    uri += port === 80 ? '' : \":\".concat(port);\n    uri += '/signalk/';\n    uri += version;\n\n    if (protocol === 'ws') {\n      uri += '/stream';\n      const params = [];\n\n      if (deltaStreamBehaviour && SUPPORTED_STREAM_BEHAVIOUR.hasOwnProperty(deltaStreamBehaviour) && SUPPORTED_STREAM_BEHAVIOUR[deltaStreamBehaviour] !== '') {\n        params.push(\"subscribe=\".concat(SUPPORTED_STREAM_BEHAVIOUR[deltaStreamBehaviour]));\n      }\n\n      if (sendMeta && SUPPORTED_SEND_META.hasOwnProperty(sendMeta) && SUPPORTED_SEND_META[sendMeta] !== '') {\n        params.push(\"sendMeta=\".concat(SUPPORTED_SEND_META[sendMeta]));\n      }\n\n      if (params) {\n        uri += '?' + params.join('&');\n      }\n    }\n\n    if (protocol === 'http') {\n      uri += '/api';\n    }\n\n    return uri;\n  }\n\n  state() {\n    return {\n      connecting: this.isConnecting,\n      connected: this.connected,\n      ready: this.fetchReady\n    };\n  }\n\n  disconnect() {\n    debug('[disconnect] called');\n    this.shouldDisconnect = true;\n    this.reconnect();\n  }\n\n  backOffAndReconnect() {\n    if (this.isConnecting === true) {\n      return;\n    }\n\n    const {\n      maxTimeBetweenRetries\n    } = this.options;\n    let waitTime = this._retries < Math.round(maxTimeBetweenRetries / 250) ? this._retries * 250 : maxTimeBetweenRetries;\n\n    if (waitTime === 0) {\n      return this.reconnect();\n    }\n\n    this.emit('backOffBeforeReconnect', waitTime);\n    debug(\"[backOffAndReconnect] waiting \".concat(waitTime, \" ms before reconnecting\"));\n    setTimeout(() => this.reconnect(), waitTime);\n  }\n\n  reconnect() {\n    let initial = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (this.isConnecting === true) {\n      return;\n    }\n\n    if (this.socket !== null) {\n      debug('[reconnect] closing socket');\n      this.socket.close();\n      return;\n    }\n\n    if (initial === false) {\n      this._retries += 1;\n    }\n\n    if (initial !== true && this._retries === this.options.maxRetries) {\n      this.emit('hitMaxRetries');\n      this.cleanupListeners();\n      return;\n    }\n\n    if (initial !== true && this.options.reconnect === false) {\n      debug('[reconnect] Not reconnecting, for reconnect is false');\n      this.cleanupListeners();\n      return;\n    }\n\n    if (initial !== true && this.shouldDisconnect === true) {\n      debug('[reconnect] not reconnecting, shouldDisconnect is true');\n      this.cleanupListeners();\n      return;\n    }\n\n    debug(\"[reconnect] socket is \".concat(this.socket === null ? '' : 'not ', \"NULL\"));\n    this._fetchReady = false;\n    this.shouldDisconnect = false;\n    this.isConnecting = true;\n\n    if (this.options.useAuthentication === false) {\n      this._fetchReady = true;\n      this.emit('fetchReady');\n      this.initiateSocket();\n      return;\n    }\n\n    const authRequest = {\n      method: 'POST',\n      mode: 'cors',\n      credentials: 'same-origin',\n      body: JSON.stringify({\n        username: String(this.options.username || ''),\n        password: String(this.options.password || '')\n      })\n    };\n    return this.fetch('/auth/login', authRequest).then(result => {\n      if (!result || typeof result !== 'object' || !result.hasOwnProperty('token')) {\n        throw new Error(\"Unexpected response from auth endpoint: \".concat(JSON.stringify(result)));\n      }\n\n      debug(\"[reconnect] successful auth request: \".concat(JSON.stringify(result, null, 2)));\n      this._authenticated = true;\n      this._token = {\n        kind: typeof result.type === 'string' && result.type.trim() !== '' ? result.type : this._bearerTokenPrefix,\n        token: result.token\n      };\n      this._fetchReady = true;\n      this.emit('fetchReady');\n      this.initiateSocket();\n    }).catch(err => {\n      debug(\"[reconnect] error logging in: \".concat(err.message, \", reconnecting\"));\n      this.emit('error', err);\n      this._retries += 1;\n      this.isConnecting = false;\n      return this.backOffAndReconnect();\n    });\n  }\n\n  setAuthenticated(token) {\n    let kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'JWT';\n    // @FIXME default type should be Bearer\n    this.emit('fetchReady');\n    this._authenticated = true;\n    this._token = {\n      kind,\n      token\n    };\n  }\n\n  initiateSocket() {\n    if (isNode && this.options.useTLS && this.options.rejectUnauthorized === false) {\n      this.socket = new _isomorphicWs.default(this.wsURI, {\n        rejectUnauthorized: false\n      });\n    } else {\n      this.socket = new _isomorphicWs.default(this.wsURI);\n    }\n\n    this.socket.addEventListener('message', this.onWSMessage);\n    this.socket.addEventListener('open', this.onWSOpen);\n    this.socket.addEventListener('error', this.onWSError);\n    this.socket.addEventListener('close', this.onWSClose);\n  }\n\n  cleanupListeners() {\n    debug(\"[cleanupListeners] resetting auth and removing listeners\"); // Reset authentication\n\n    this._authenticated = false;\n    this._token = {\n      kind: '',\n      token: ''\n    };\n    this.removeAllListeners();\n  }\n\n  sendKeepaliveWithReschedule() {\n    if (this.connected === true) {\n      if (this.lastMessage < Date.now() - this.wsKeepaliveIntervalMs) {\n        this.socket.send(\"{}\");\n      }\n\n      setTimeout(this.sendKeepaliveWithReschedule, this.wsKeepaliveIntervalMs);\n    }\n  }\n\n  _onWSMessage(evt) {\n    this.lastMessage = Date.now();\n    let data = evt.data;\n\n    try {\n      if (typeof data === 'string') {\n        data = JSON.parse(data);\n      }\n    } catch (e) {\n      console.error(\"[Connection: \".concat(this.options.hostname, \"] Error parsing data: \").concat(e.message));\n    }\n\n    if (data && typeof data === 'object' && data.hasOwnProperty('name') && data.hasOwnProperty('version') && data.hasOwnProperty('roles')) {\n      this.connectionInfo = data;\n    }\n\n    this.emit('message', data);\n  }\n\n  _onWSOpen() {\n    this.connected = true;\n    this.isConnecting = false;\n\n    if (this._subscriptions.length > 0) {\n      const subscriptions = flattenSubscriptions(this._subscriptions);\n      this.subscribe(subscriptions);\n    }\n\n    this._retries = 0;\n    if (this.options.wsKeepaliveInterval > 0) this.sendKeepaliveWithReschedule();\n    this.emit('connect');\n  }\n\n  _onWSError(err) {\n    debug('[_onWSError] WS error', err.message || '');\n    this.emit('error', err);\n    this.backOffAndReconnect();\n  }\n\n  _onWSClose(evt) {\n    debug('[_onWSClose] called with wsURI:', this.wsURI);\n    this.socket.removeEventListener('message', this.onWSMessage);\n    this.socket.removeEventListener('open', this.onWSOpen);\n    this.socket.removeEventListener('error', this.onWSError);\n    this.socket.removeEventListener('close', this.onWSClose);\n    this.connected = false;\n    this.isConnecting = false;\n    this.socket = null;\n    this.emit('disconnect', evt);\n    this.backOffAndReconnect();\n  }\n\n  unsubscribe() {\n    if (this.connected !== true || this.socket === null) {\n      debug('Not connected to socket');\n      return;\n    }\n\n    this.send(JSON.stringify({\n      context: '*',\n      unsubscribe: [{\n        path: '*'\n      }]\n    }));\n  }\n\n  subscribe() {\n    let subscriptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    if (!Array.isArray(subscriptions) && subscriptions && typeof subscriptions === 'object' && subscriptions.hasOwnProperty('subscribe')) {\n      subscriptions = [subscriptions];\n    }\n\n    subscriptions.forEach(sub => {\n      this.send(JSON.stringify(sub));\n    });\n  }\n\n  send(data) {\n    if (this.connected !== true || this.socket === null) {\n      return Promise.reject(new Error('Not connected to WebSocket'));\n    } // Basic check if data is stringified JSON\n\n\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) {\n        debug(\"[send] data is string but not valid JSON: \".concat(e.message));\n      }\n    }\n\n    const isObj = data && typeof data === 'object'; // FIXME: this shouldn't be required as per discussion about security.\n    // Add token to data IF authenticated\n    // https://signalk.org/specification/1.3.0/doc/security.html#other-clients\n    // if (isObj && this.useAuthentication === true && this._authenticated === true) {\n    //   data.token = String(this._token.token)\n    // }\n\n    try {\n      if (isObj) {\n        data = JSON.stringify(data);\n      }\n    } catch (e) {\n      return Promise.reject(e);\n    }\n\n    debug(\"Sending data to socket: \".concat(data));\n    const result = this.socket.send(data);\n    return Promise.resolve(result);\n  }\n\n  fetch(path, opts) {\n    if (path.charAt(0) !== '/') {\n      path = \"/\".concat(path);\n    }\n\n    if (!opts || typeof opts !== 'object') {\n      opts = {\n        method: 'GET'\n      };\n    }\n\n    if (!opts.headers || typeof opts.headers !== 'object') {\n      opts.headers = {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      };\n    }\n\n    if (this._authenticated === true && !path.includes('auth/login')) {\n      opts.headers = _objectSpread(_objectSpread({}, opts.headers), {}, {\n        Authorization: \"\".concat(this._token.kind, \" \").concat(this._token.token)\n      });\n      opts.credentials = 'same-origin';\n      opts.mode = 'cors';\n      debug(\"[fetch] enriching fetch options with in-memory token\");\n    }\n\n    if (isNode && this.options.useTLS && this.options.rejectUnauthorized === false) {\n      opts.agent = new _https.default.Agent({\n        rejectUnauthorized: false\n      });\n    }\n\n    let URI = \"\".concat(this.httpURI).concat(path); // @TODO httpURI includes /api, which is not desirable. Need to refactor\n\n    if (URI.includes('/api/auth/login')) {\n      URI = URI.replace('/api/auth/login', '/auth/login');\n    } // @TODO httpURI includes /api, which is not desirable. Need to refactor\n\n\n    if (URI.includes('/api/access/requests')) {\n      URI = URI.replace('/api/access/requests', '/access/requests');\n    } // @FIXME weird hack because node server paths for access requests are not standardised\n\n\n    if (URI.includes('/signalk/v1/api/security')) {\n      URI = URI.replace('/signalk/v1/api/security', '/security');\n    }\n\n    debug(\"[fetch] \".concat(opts.method || 'GET', \" \").concat(URI, \" \").concat(JSON.stringify(opts, null, 2)));\n    return (0, _crossFetch.default)(URI, opts).then(response => {\n      if (!response.ok) {\n        throw new Error(\"Error fetching \".concat(URI, \": \").concat(response.status, \" \").concat(response.statusText));\n      }\n\n      const type = response.headers.get('content-type');\n\n      if (type.includes('application/json')) {\n        return response.json();\n      }\n\n      return response.text();\n    });\n  }\n\n}\n\nexports[\"default\"] = Connection;\n\nconst flattenSubscriptions = subscriptionCommands => {\n  const commandPerContext = {};\n  subscriptionCommands.forEach(command => {\n    if (!Array.isArray(commandPerContext[command.context])) {\n      commandPerContext[command.context] = [];\n    }\n\n    commandPerContext[command.context] = commandPerContext[command.context].concat(command.subscribe);\n  });\n  return Object.keys(commandPerContext).map(context => {\n    const subscription = {\n      context,\n      subscribe: commandPerContext[context]\n    };\n\n    if (subscription.subscribe.length > 0) {\n      const paths = [];\n      subscription.subscribe = subscription.subscribe.reduce((list, command) => {\n        if (!paths.includes(command.path)) {\n          paths.push(command.path);\n        } else {\n          const index = list.findIndex(candidate => candidate.path === command.path);\n\n          if (index !== -1) {\n            list.splice(index, 1);\n          }\n        }\n\n        list.push(command);\n        return list;\n      }, []);\n    }\n\n    return subscription;\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L2Rpc3QvbGliL2Nvbm5lY3Rpb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0Ysa0JBQWUsR0FBRyxrQ0FBa0MsR0FBRywyQkFBMkI7O0FBRWxGLG1CQUFPLENBQUMsaUdBQW1DOztBQUUzQyxtQkFBTyxDQUFDLHlGQUErQjs7QUFFdkMsbUJBQU8sQ0FBQyx1R0FBc0M7O0FBRTlDLG1CQUFPLENBQUMseUdBQXVDOztBQUUvQyxtQkFBTyxDQUFDLGlHQUFtQzs7QUFFM0MsbUJBQU8sQ0FBQyx1R0FBc0M7O0FBRTlDLG1CQUFPLENBQUMsbUdBQW9DOztBQUU1QywyQ0FBMkMsbUJBQU8sQ0FBQyxrRUFBZTs7QUFFbEUsMkNBQTJDLG1CQUFPLENBQUMsaUVBQWU7O0FBRWxFLHlDQUF5QyxtQkFBTyxDQUFDLDJFQUFhOztBQUU5RCxvQ0FBb0MsbUJBQU8sQ0FBQyxzREFBTzs7QUFFbkQsb0NBQW9DLG1CQUFPLENBQUMsb0JBQU87O0FBRW5ELHVDQUF1Qyx1Q0FBdUM7O0FBRTlFLDJDQUEyQyxnQ0FBZ0Msb0NBQW9DLG9EQUFvRCw2REFBNkQsaUVBQWlFLHNDQUFzQzs7QUFFdlUsaUNBQWlDLGdCQUFnQixzQkFBc0IsT0FBTyx1REFBdUQsNkRBQTZELDRDQUE0QyxvS0FBb0ssbUZBQW1GLEtBQUs7O0FBRTFlLDRDQUE0QyxrQkFBa0Isa0NBQWtDLG9FQUFvRSxLQUFLLE9BQU8sb0JBQW9COztBQUVwTTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1RUFBdUU7O0FBRXZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7O0FBR047QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQSxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELG1CQUFtQjtBQUN0RTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUEsb0RBQW9EOztBQUVwRDtBQUNBO0FBQ0EsTUFBTTs7O0FBR047QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQSxrQkFBZTs7QUFFZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vY2Vhcm8tdWkvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L2Rpc3QvbGliL2Nvbm5lY3Rpb24uanM/M2FmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGV4cG9ydHMuU1VQUE9SVEVEX1NUUkVBTV9CRUhBVklPVVIgPSBleHBvcnRzLlNVUFBPUlRFRF9TRU5EX01FVEEgPSB2b2lkIDA7XG5cbnJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanNcIik7XG5cbnJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5qc1wiKTtcblxucmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qc1wiKTtcblxucmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanNcIik7XG5cbnJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanNcIik7XG5cbnJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanNcIik7XG5cbnJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzXCIpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImV2ZW50ZW1pdHRlcjNcIikpO1xuXG52YXIgX2lzb21vcnBoaWNXcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImlzb21vcnBoaWMtd3NcIikpO1xuXG52YXIgX2Nyb3NzRmV0Y2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJjcm9zcy1mZXRjaFwiKSk7XG5cbnZhciBfZGVidWcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJkZWJ1Z1wiKSk7XG5cbnZhciBfaHR0cHMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJodHRwc1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmNvbnN0IGRlYnVnID0gKDAsIF9kZWJ1Zy5kZWZhdWx0KSgnc2lnbmFsay1qcy1zZGsvQ29ubmVjdGlvbicpO1xuY29uc3QgaXNOb2RlID0gdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MudmVyc2lvbnMgIT0gbnVsbCAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGUgIT0gbnVsbDtcbmNvbnN0IFNVUFBPUlRFRF9TVFJFQU1fQkVIQVZJT1VSID0ge1xuICBzZWxmOiAnc2VsZicsXG4gIGFsbDogJ2FsbCcsXG4gIG5vbmU6ICdub25lJ1xufTtcbmV4cG9ydHMuU1VQUE9SVEVEX1NUUkVBTV9CRUhBVklPVVIgPSBTVVBQT1JURURfU1RSRUFNX0JFSEFWSU9VUjtcbmNvbnN0IFNVUFBPUlRFRF9TRU5EX01FVEEgPSB7XG4gIGFsbDogJ2FsbCdcbn07XG5leHBvcnRzLlNVUFBPUlRFRF9TRU5EX01FVEEgPSBTVVBQT1JURURfU0VORF9NRVRBO1xuXG5jbGFzcyBDb25uZWN0aW9uIGV4dGVuZHMgX2V2ZW50ZW1pdHRlci5kZWZhdWx0IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIGxldCBzdWJzY3JpcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5odHRwVVJJID0gdGhpcy5idWlsZFVSSSgnaHR0cCcpO1xuICAgIHRoaXMud3NVUkkgPSB0aGlzLmJ1aWxkVVJJKCd3cycpO1xuICAgIHRoaXMuc2hvdWxkRGlzY29ubmVjdCA9IGZhbHNlO1xuICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5zb2NrZXQgPSBudWxsO1xuICAgIHRoaXMubGFzdE1lc3NhZ2UgPSAtMTtcbiAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgIHRoaXMud3NLZWVwYWxpdmVJbnRlcnZhbE1zID0gdGhpcy5vcHRpb25zLndzS2VlcGFsaXZlSW50ZXJ2YWwgKiAxMDAwO1xuICAgIHRoaXMuX2ZldGNoUmVhZHkgPSBmYWxzZTtcbiAgICB0aGlzLl9iZWFyZXJUb2tlblByZWZpeCA9IHRoaXMub3B0aW9ucy5iZWFyZXJUb2tlblByZWZpeCB8fCAnQmVhcmVyJztcbiAgICB0aGlzLl9hdXRoZW50aWNhdGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcmV0cmllcyA9IDA7XG4gICAgdGhpcy5fY29ubmVjdGlvbiA9IG51bGw7XG4gICAgdGhpcy5fc2VsZiA9ICcnO1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBzdWJzY3JpcHRpb25zO1xuICAgIHRoaXMuc2VuZEtlZXBhbGl2ZVdpdGhSZXNjaGVkdWxlID0gdGhpcy5zZW5kS2VlcGFsaXZlV2l0aFJlc2NoZWR1bGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uV1NNZXNzYWdlID0gdGhpcy5fb25XU01lc3NhZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uV1NPcGVuID0gdGhpcy5fb25XU09wZW4uYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uV1NDbG9zZSA9IHRoaXMuX29uV1NDbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25XU0Vycm9yID0gdGhpcy5fb25XU0Vycm9yLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fdG9rZW4gPSB7XG4gICAgICBraW5kOiAnJyxcbiAgICAgIHRva2VuOiAnJ1xuICAgIH07XG4gICAgdGhpcy5yZWNvbm5lY3QodHJ1ZSk7XG4gIH1cblxuICBnZXQgcmV0cmllcygpIHtcbiAgICByZXR1cm4gdGhpcy5fcmV0cmllcztcbiAgfVxuXG4gIHNldCBzZWxmKGRhdGEpIHtcbiAgICBpZiAoZGF0YSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5lbWl0KCdzZWxmJywgZGF0YSk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2VsZiA9IGRhdGE7XG4gIH1cblxuICBnZXQgc2VsZigpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VsZjtcbiAgfVxuXG4gIHNldCBjb25uZWN0aW9uSW5mbyhkYXRhKSB7XG4gICAgaWYgKGRhdGEgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGlvbkluZm8nLCBkYXRhKTtcbiAgICB9XG5cbiAgICB0aGlzLl9jb25uZWN0aW9uID0gZGF0YTtcbiAgICB0aGlzLnNlbGYgPSBkYXRhLnNlbGY7XG4gIH1cblxuICBnZXQgY29ubmVjdGlvbkluZm8oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb247XG4gIH1cblxuICBidWlsZFVSSShwcm90b2NvbCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHVzZVRMUyxcbiAgICAgIGhvc3RuYW1lLFxuICAgICAgcG9ydCxcbiAgICAgIHZlcnNpb24sXG4gICAgICBkZWx0YVN0cmVhbUJlaGF2aW91cixcbiAgICAgIHNlbmRNZXRhXG4gICAgfSA9IHRoaXMub3B0aW9ucztcbiAgICBsZXQgdXJpID0gdXNlVExTID09PSB0cnVlID8gXCJcIi5jb25jYXQocHJvdG9jb2wsIFwiczovL1wiKSA6IFwiXCIuY29uY2F0KHByb3RvY29sLCBcIjovL1wiKTtcbiAgICB1cmkgKz0gaG9zdG5hbWU7XG4gICAgdXJpICs9IHBvcnQgPT09IDgwID8gJycgOiBcIjpcIi5jb25jYXQocG9ydCk7XG4gICAgdXJpICs9ICcvc2lnbmFsay8nO1xuICAgIHVyaSArPSB2ZXJzaW9uO1xuXG4gICAgaWYgKHByb3RvY29sID09PSAnd3MnKSB7XG4gICAgICB1cmkgKz0gJy9zdHJlYW0nO1xuICAgICAgY29uc3QgcGFyYW1zID0gW107XG5cbiAgICAgIGlmIChkZWx0YVN0cmVhbUJlaGF2aW91ciAmJiBTVVBQT1JURURfU1RSRUFNX0JFSEFWSU9VUi5oYXNPd25Qcm9wZXJ0eShkZWx0YVN0cmVhbUJlaGF2aW91cikgJiYgU1VQUE9SVEVEX1NUUkVBTV9CRUhBVklPVVJbZGVsdGFTdHJlYW1CZWhhdmlvdXJdICE9PSAnJykge1xuICAgICAgICBwYXJhbXMucHVzaChcInN1YnNjcmliZT1cIi5jb25jYXQoU1VQUE9SVEVEX1NUUkVBTV9CRUhBVklPVVJbZGVsdGFTdHJlYW1CZWhhdmlvdXJdKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzZW5kTWV0YSAmJiBTVVBQT1JURURfU0VORF9NRVRBLmhhc093blByb3BlcnR5KHNlbmRNZXRhKSAmJiBTVVBQT1JURURfU0VORF9NRVRBW3NlbmRNZXRhXSAhPT0gJycpIHtcbiAgICAgICAgcGFyYW1zLnB1c2goXCJzZW5kTWV0YT1cIi5jb25jYXQoU1VQUE9SVEVEX1NFTkRfTUVUQVtzZW5kTWV0YV0pKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcykge1xuICAgICAgICB1cmkgKz0gJz8nICsgcGFyYW1zLmpvaW4oJyYnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocHJvdG9jb2wgPT09ICdodHRwJykge1xuICAgICAgdXJpICs9ICcvYXBpJztcbiAgICB9XG5cbiAgICByZXR1cm4gdXJpO1xuICB9XG5cbiAgc3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbm5lY3Rpbmc6IHRoaXMuaXNDb25uZWN0aW5nLFxuICAgICAgY29ubmVjdGVkOiB0aGlzLmNvbm5lY3RlZCxcbiAgICAgIHJlYWR5OiB0aGlzLmZldGNoUmVhZHlcbiAgICB9O1xuICB9XG5cbiAgZGlzY29ubmVjdCgpIHtcbiAgICBkZWJ1ZygnW2Rpc2Nvbm5lY3RdIGNhbGxlZCcpO1xuICAgIHRoaXMuc2hvdWxkRGlzY29ubmVjdCA9IHRydWU7XG4gICAgdGhpcy5yZWNvbm5lY3QoKTtcbiAgfVxuXG4gIGJhY2tPZmZBbmRSZWNvbm5lY3QoKSB7XG4gICAgaWYgKHRoaXMuaXNDb25uZWN0aW5nID09PSB0cnVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgbWF4VGltZUJldHdlZW5SZXRyaWVzXG4gICAgfSA9IHRoaXMub3B0aW9ucztcbiAgICBsZXQgd2FpdFRpbWUgPSB0aGlzLl9yZXRyaWVzIDwgTWF0aC5yb3VuZChtYXhUaW1lQmV0d2VlblJldHJpZXMgLyAyNTApID8gdGhpcy5fcmV0cmllcyAqIDI1MCA6IG1heFRpbWVCZXR3ZWVuUmV0cmllcztcblxuICAgIGlmICh3YWl0VGltZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVjb25uZWN0KCk7XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCdiYWNrT2ZmQmVmb3JlUmVjb25uZWN0Jywgd2FpdFRpbWUpO1xuICAgIGRlYnVnKFwiW2JhY2tPZmZBbmRSZWNvbm5lY3RdIHdhaXRpbmcgXCIuY29uY2F0KHdhaXRUaW1lLCBcIiBtcyBiZWZvcmUgcmVjb25uZWN0aW5nXCIpKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMucmVjb25uZWN0KCksIHdhaXRUaW1lKTtcbiAgfVxuXG4gIHJlY29ubmVjdCgpIHtcbiAgICBsZXQgaW5pdGlhbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cbiAgICBpZiAodGhpcy5pc0Nvbm5lY3RpbmcgPT09IHRydWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zb2NrZXQgIT09IG51bGwpIHtcbiAgICAgIGRlYnVnKCdbcmVjb25uZWN0XSBjbG9zaW5nIHNvY2tldCcpO1xuICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaW5pdGlhbCA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuX3JldHJpZXMgKz0gMTtcbiAgICB9XG5cbiAgICBpZiAoaW5pdGlhbCAhPT0gdHJ1ZSAmJiB0aGlzLl9yZXRyaWVzID09PSB0aGlzLm9wdGlvbnMubWF4UmV0cmllcykge1xuICAgICAgdGhpcy5lbWl0KCdoaXRNYXhSZXRyaWVzJyk7XG4gICAgICB0aGlzLmNsZWFudXBMaXN0ZW5lcnMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaW5pdGlhbCAhPT0gdHJ1ZSAmJiB0aGlzLm9wdGlvbnMucmVjb25uZWN0ID09PSBmYWxzZSkge1xuICAgICAgZGVidWcoJ1tyZWNvbm5lY3RdIE5vdCByZWNvbm5lY3RpbmcsIGZvciByZWNvbm5lY3QgaXMgZmFsc2UnKTtcbiAgICAgIHRoaXMuY2xlYW51cExpc3RlbmVycygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpbml0aWFsICE9PSB0cnVlICYmIHRoaXMuc2hvdWxkRGlzY29ubmVjdCA9PT0gdHJ1ZSkge1xuICAgICAgZGVidWcoJ1tyZWNvbm5lY3RdIG5vdCByZWNvbm5lY3RpbmcsIHNob3VsZERpc2Nvbm5lY3QgaXMgdHJ1ZScpO1xuICAgICAgdGhpcy5jbGVhbnVwTGlzdGVuZXJzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGVidWcoXCJbcmVjb25uZWN0XSBzb2NrZXQgaXMgXCIuY29uY2F0KHRoaXMuc29ja2V0ID09PSBudWxsID8gJycgOiAnbm90ICcsIFwiTlVMTFwiKSk7XG4gICAgdGhpcy5fZmV0Y2hSZWFkeSA9IGZhbHNlO1xuICAgIHRoaXMuc2hvdWxkRGlzY29ubmVjdCA9IGZhbHNlO1xuICAgIHRoaXMuaXNDb25uZWN0aW5nID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMudXNlQXV0aGVudGljYXRpb24gPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLl9mZXRjaFJlYWR5ID0gdHJ1ZTtcbiAgICAgIHRoaXMuZW1pdCgnZmV0Y2hSZWFkeScpO1xuICAgICAgdGhpcy5pbml0aWF0ZVNvY2tldCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGF1dGhSZXF1ZXN0ID0ge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBtb2RlOiAnY29ycycsXG4gICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdXNlcm5hbWU6IFN0cmluZyh0aGlzLm9wdGlvbnMudXNlcm5hbWUgfHwgJycpLFxuICAgICAgICBwYXNzd29yZDogU3RyaW5nKHRoaXMub3B0aW9ucy5wYXNzd29yZCB8fCAnJylcbiAgICAgIH0pXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5mZXRjaCgnL2F1dGgvbG9naW4nLCBhdXRoUmVxdWVzdCkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgaWYgKCFyZXN1bHQgfHwgdHlwZW9mIHJlc3VsdCAhPT0gJ29iamVjdCcgfHwgIXJlc3VsdC5oYXNPd25Qcm9wZXJ0eSgndG9rZW4nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIHJlc3BvbnNlIGZyb20gYXV0aCBlbmRwb2ludDogXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpKTtcbiAgICAgIH1cblxuICAgICAgZGVidWcoXCJbcmVjb25uZWN0XSBzdWNjZXNzZnVsIGF1dGggcmVxdWVzdDogXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHJlc3VsdCwgbnVsbCwgMikpKTtcbiAgICAgIHRoaXMuX2F1dGhlbnRpY2F0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fdG9rZW4gPSB7XG4gICAgICAgIGtpbmQ6IHR5cGVvZiByZXN1bHQudHlwZSA9PT0gJ3N0cmluZycgJiYgcmVzdWx0LnR5cGUudHJpbSgpICE9PSAnJyA/IHJlc3VsdC50eXBlIDogdGhpcy5fYmVhcmVyVG9rZW5QcmVmaXgsXG4gICAgICAgIHRva2VuOiByZXN1bHQudG9rZW5cbiAgICAgIH07XG4gICAgICB0aGlzLl9mZXRjaFJlYWR5ID0gdHJ1ZTtcbiAgICAgIHRoaXMuZW1pdCgnZmV0Y2hSZWFkeScpO1xuICAgICAgdGhpcy5pbml0aWF0ZVNvY2tldCgpO1xuICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICBkZWJ1ZyhcIltyZWNvbm5lY3RdIGVycm9yIGxvZ2dpbmcgaW46IFwiLmNvbmNhdChlcnIubWVzc2FnZSwgXCIsIHJlY29ubmVjdGluZ1wiKSk7XG4gICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgIHRoaXMuX3JldHJpZXMgKz0gMTtcbiAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcy5iYWNrT2ZmQW5kUmVjb25uZWN0KCk7XG4gICAgfSk7XG4gIH1cblxuICBzZXRBdXRoZW50aWNhdGVkKHRva2VuKSB7XG4gICAgbGV0IGtpbmQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdKV1QnO1xuICAgIC8vIEBGSVhNRSBkZWZhdWx0IHR5cGUgc2hvdWxkIGJlIEJlYXJlclxuICAgIHRoaXMuZW1pdCgnZmV0Y2hSZWFkeScpO1xuICAgIHRoaXMuX2F1dGhlbnRpY2F0ZWQgPSB0cnVlO1xuICAgIHRoaXMuX3Rva2VuID0ge1xuICAgICAga2luZCxcbiAgICAgIHRva2VuXG4gICAgfTtcbiAgfVxuXG4gIGluaXRpYXRlU29ja2V0KCkge1xuICAgIGlmIChpc05vZGUgJiYgdGhpcy5vcHRpb25zLnVzZVRMUyAmJiB0aGlzLm9wdGlvbnMucmVqZWN0VW5hdXRob3JpemVkID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5zb2NrZXQgPSBuZXcgX2lzb21vcnBoaWNXcy5kZWZhdWx0KHRoaXMud3NVUkksIHtcbiAgICAgICAgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc29ja2V0ID0gbmV3IF9pc29tb3JwaGljV3MuZGVmYXVsdCh0aGlzLndzVVJJKTtcbiAgICB9XG5cbiAgICB0aGlzLnNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5vbldTTWVzc2FnZSk7XG4gICAgdGhpcy5zb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsIHRoaXMub25XU09wZW4pO1xuICAgIHRoaXMuc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5vbldTRXJyb3IpO1xuICAgIHRoaXMuc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgdGhpcy5vbldTQ2xvc2UpO1xuICB9XG5cbiAgY2xlYW51cExpc3RlbmVycygpIHtcbiAgICBkZWJ1ZyhcIltjbGVhbnVwTGlzdGVuZXJzXSByZXNldHRpbmcgYXV0aCBhbmQgcmVtb3ZpbmcgbGlzdGVuZXJzXCIpOyAvLyBSZXNldCBhdXRoZW50aWNhdGlvblxuXG4gICAgdGhpcy5fYXV0aGVudGljYXRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3Rva2VuID0ge1xuICAgICAga2luZDogJycsXG4gICAgICB0b2tlbjogJydcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIH1cblxuICBzZW5kS2VlcGFsaXZlV2l0aFJlc2NoZWR1bGUoKSB7XG4gICAgaWYgKHRoaXMuY29ubmVjdGVkID09PSB0cnVlKSB7XG4gICAgICBpZiAodGhpcy5sYXN0TWVzc2FnZSA8IERhdGUubm93KCkgLSB0aGlzLndzS2VlcGFsaXZlSW50ZXJ2YWxNcykge1xuICAgICAgICB0aGlzLnNvY2tldC5zZW5kKFwie31cIik7XG4gICAgICB9XG5cbiAgICAgIHNldFRpbWVvdXQodGhpcy5zZW5kS2VlcGFsaXZlV2l0aFJlc2NoZWR1bGUsIHRoaXMud3NLZWVwYWxpdmVJbnRlcnZhbE1zKTtcbiAgICB9XG4gIH1cblxuICBfb25XU01lc3NhZ2UoZXZ0KSB7XG4gICAgdGhpcy5sYXN0TWVzc2FnZSA9IERhdGUubm93KCk7XG4gICAgbGV0IGRhdGEgPSBldnQuZGF0YTtcblxuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbQ29ubmVjdGlvbjogXCIuY29uY2F0KHRoaXMub3B0aW9ucy5ob3N0bmFtZSwgXCJdIEVycm9yIHBhcnNpbmcgZGF0YTogXCIpLmNvbmNhdChlLm1lc3NhZ2UpKTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgZGF0YS5oYXNPd25Qcm9wZXJ0eSgnbmFtZScpICYmIGRhdGEuaGFzT3duUHJvcGVydHkoJ3ZlcnNpb24nKSAmJiBkYXRhLmhhc093blByb3BlcnR5KCdyb2xlcycpKSB7XG4gICAgICB0aGlzLmNvbm5lY3Rpb25JbmZvID0gZGF0YTtcbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoJ21lc3NhZ2UnLCBkYXRhKTtcbiAgfVxuXG4gIF9vbldTT3BlbigpIHtcbiAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XG4gICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcblxuICAgIGlmICh0aGlzLl9zdWJzY3JpcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSBmbGF0dGVuU3Vic2NyaXB0aW9ucyh0aGlzLl9zdWJzY3JpcHRpb25zKTtcbiAgICAgIHRoaXMuc3Vic2NyaWJlKHN1YnNjcmlwdGlvbnMpO1xuICAgIH1cblxuICAgIHRoaXMuX3JldHJpZXMgPSAwO1xuICAgIGlmICh0aGlzLm9wdGlvbnMud3NLZWVwYWxpdmVJbnRlcnZhbCA+IDApIHRoaXMuc2VuZEtlZXBhbGl2ZVdpdGhSZXNjaGVkdWxlKCk7XG4gICAgdGhpcy5lbWl0KCdjb25uZWN0Jyk7XG4gIH1cblxuICBfb25XU0Vycm9yKGVycikge1xuICAgIGRlYnVnKCdbX29uV1NFcnJvcl0gV1MgZXJyb3InLCBlcnIubWVzc2FnZSB8fCAnJyk7XG4gICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgdGhpcy5iYWNrT2ZmQW5kUmVjb25uZWN0KCk7XG4gIH1cblxuICBfb25XU0Nsb3NlKGV2dCkge1xuICAgIGRlYnVnKCdbX29uV1NDbG9zZV0gY2FsbGVkIHdpdGggd3NVUkk6JywgdGhpcy53c1VSSSk7XG4gICAgdGhpcy5zb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMub25XU01lc3NhZ2UpO1xuICAgIHRoaXMuc29ja2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29wZW4nLCB0aGlzLm9uV1NPcGVuKTtcbiAgICB0aGlzLnNvY2tldC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMub25XU0Vycm9yKTtcbiAgICB0aGlzLnNvY2tldC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbG9zZScsIHRoaXMub25XU0Nsb3NlKTtcbiAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgdGhpcy5zb2NrZXQgPSBudWxsO1xuICAgIHRoaXMuZW1pdCgnZGlzY29ubmVjdCcsIGV2dCk7XG4gICAgdGhpcy5iYWNrT2ZmQW5kUmVjb25uZWN0KCk7XG4gIH1cblxuICB1bnN1YnNjcmliZSgpIHtcbiAgICBpZiAodGhpcy5jb25uZWN0ZWQgIT09IHRydWUgfHwgdGhpcy5zb2NrZXQgPT09IG51bGwpIHtcbiAgICAgIGRlYnVnKCdOb3QgY29ubmVjdGVkIHRvIHNvY2tldCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2VuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICBjb250ZXh0OiAnKicsXG4gICAgICB1bnN1YnNjcmliZTogW3tcbiAgICAgICAgcGF0aDogJyonXG4gICAgICB9XVxuICAgIH0pKTtcbiAgfVxuXG4gIHN1YnNjcmliZSgpIHtcbiAgICBsZXQgc3Vic2NyaXB0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3Vic2NyaXB0aW9ucykgJiYgc3Vic2NyaXB0aW9ucyAmJiB0eXBlb2Ygc3Vic2NyaXB0aW9ucyA9PT0gJ29iamVjdCcgJiYgc3Vic2NyaXB0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnc3Vic2NyaWJlJykpIHtcbiAgICAgIHN1YnNjcmlwdGlvbnMgPSBbc3Vic2NyaXB0aW9uc107XG4gICAgfVxuXG4gICAgc3Vic2NyaXB0aW9ucy5mb3JFYWNoKHN1YiA9PiB7XG4gICAgICB0aGlzLnNlbmQoSlNPTi5zdHJpbmdpZnkoc3ViKSk7XG4gICAgfSk7XG4gIH1cblxuICBzZW5kKGRhdGEpIHtcbiAgICBpZiAodGhpcy5jb25uZWN0ZWQgIT09IHRydWUgfHwgdGhpcy5zb2NrZXQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ05vdCBjb25uZWN0ZWQgdG8gV2ViU29ja2V0JykpO1xuICAgIH0gLy8gQmFzaWMgY2hlY2sgaWYgZGF0YSBpcyBzdHJpbmdpZmllZCBKU09OXG5cblxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBkZWJ1ZyhcIltzZW5kXSBkYXRhIGlzIHN0cmluZyBidXQgbm90IHZhbGlkIEpTT046IFwiLmNvbmNhdChlLm1lc3NhZ2UpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBpc09iaiA9IGRhdGEgJiYgdHlwZW9mIGRhdGEgPT09ICdvYmplY3QnOyAvLyBGSVhNRTogdGhpcyBzaG91bGRuJ3QgYmUgcmVxdWlyZWQgYXMgcGVyIGRpc2N1c3Npb24gYWJvdXQgc2VjdXJpdHkuXG4gICAgLy8gQWRkIHRva2VuIHRvIGRhdGEgSUYgYXV0aGVudGljYXRlZFxuICAgIC8vIGh0dHBzOi8vc2lnbmFsay5vcmcvc3BlY2lmaWNhdGlvbi8xLjMuMC9kb2Mvc2VjdXJpdHkuaHRtbCNvdGhlci1jbGllbnRzXG4gICAgLy8gaWYgKGlzT2JqICYmIHRoaXMudXNlQXV0aGVudGljYXRpb24gPT09IHRydWUgJiYgdGhpcy5fYXV0aGVudGljYXRlZCA9PT0gdHJ1ZSkge1xuICAgIC8vICAgZGF0YS50b2tlbiA9IFN0cmluZyh0aGlzLl90b2tlbi50b2tlbilcbiAgICAvLyB9XG5cbiAgICB0cnkge1xuICAgICAgaWYgKGlzT2JqKSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgfVxuXG4gICAgZGVidWcoXCJTZW5kaW5nIGRhdGEgdG8gc29ja2V0OiBcIi5jb25jYXQoZGF0YSkpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuc29ja2V0LnNlbmQoZGF0YSk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICB9XG5cbiAgZmV0Y2gocGF0aCwgb3B0cykge1xuICAgIGlmIChwYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICBwYXRoID0gXCIvXCIuY29uY2F0KHBhdGgpO1xuICAgIH1cblxuICAgIGlmICghb3B0cyB8fCB0eXBlb2Ygb3B0cyAhPT0gJ29iamVjdCcpIHtcbiAgICAgIG9wdHMgPSB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCdcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKCFvcHRzLmhlYWRlcnMgfHwgdHlwZW9mIG9wdHMuaGVhZGVycyAhPT0gJ29iamVjdCcpIHtcbiAgICAgIG9wdHMuaGVhZGVycyA9IHtcbiAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2F1dGhlbnRpY2F0ZWQgPT09IHRydWUgJiYgIXBhdGguaW5jbHVkZXMoJ2F1dGgvbG9naW4nKSkge1xuICAgICAgb3B0cy5oZWFkZXJzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvcHRzLmhlYWRlcnMpLCB7fSwge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBcIlwiLmNvbmNhdCh0aGlzLl90b2tlbi5raW5kLCBcIiBcIikuY29uY2F0KHRoaXMuX3Rva2VuLnRva2VuKVxuICAgICAgfSk7XG4gICAgICBvcHRzLmNyZWRlbnRpYWxzID0gJ3NhbWUtb3JpZ2luJztcbiAgICAgIG9wdHMubW9kZSA9ICdjb3JzJztcbiAgICAgIGRlYnVnKFwiW2ZldGNoXSBlbnJpY2hpbmcgZmV0Y2ggb3B0aW9ucyB3aXRoIGluLW1lbW9yeSB0b2tlblwiKTtcbiAgICB9XG5cbiAgICBpZiAoaXNOb2RlICYmIHRoaXMub3B0aW9ucy51c2VUTFMgJiYgdGhpcy5vcHRpb25zLnJlamVjdFVuYXV0aG9yaXplZCA9PT0gZmFsc2UpIHtcbiAgICAgIG9wdHMuYWdlbnQgPSBuZXcgX2h0dHBzLmRlZmF1bHQuQWdlbnQoe1xuICAgICAgICByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgVVJJID0gXCJcIi5jb25jYXQodGhpcy5odHRwVVJJKS5jb25jYXQocGF0aCk7IC8vIEBUT0RPIGh0dHBVUkkgaW5jbHVkZXMgL2FwaSwgd2hpY2ggaXMgbm90IGRlc2lyYWJsZS4gTmVlZCB0byByZWZhY3RvclxuXG4gICAgaWYgKFVSSS5pbmNsdWRlcygnL2FwaS9hdXRoL2xvZ2luJykpIHtcbiAgICAgIFVSSSA9IFVSSS5yZXBsYWNlKCcvYXBpL2F1dGgvbG9naW4nLCAnL2F1dGgvbG9naW4nKTtcbiAgICB9IC8vIEBUT0RPIGh0dHBVUkkgaW5jbHVkZXMgL2FwaSwgd2hpY2ggaXMgbm90IGRlc2lyYWJsZS4gTmVlZCB0byByZWZhY3RvclxuXG5cbiAgICBpZiAoVVJJLmluY2x1ZGVzKCcvYXBpL2FjY2Vzcy9yZXF1ZXN0cycpKSB7XG4gICAgICBVUkkgPSBVUkkucmVwbGFjZSgnL2FwaS9hY2Nlc3MvcmVxdWVzdHMnLCAnL2FjY2Vzcy9yZXF1ZXN0cycpO1xuICAgIH0gLy8gQEZJWE1FIHdlaXJkIGhhY2sgYmVjYXVzZSBub2RlIHNlcnZlciBwYXRocyBmb3IgYWNjZXNzIHJlcXVlc3RzIGFyZSBub3Qgc3RhbmRhcmRpc2VkXG5cblxuICAgIGlmIChVUkkuaW5jbHVkZXMoJy9zaWduYWxrL3YxL2FwaS9zZWN1cml0eScpKSB7XG4gICAgICBVUkkgPSBVUkkucmVwbGFjZSgnL3NpZ25hbGsvdjEvYXBpL3NlY3VyaXR5JywgJy9zZWN1cml0eScpO1xuICAgIH1cblxuICAgIGRlYnVnKFwiW2ZldGNoXSBcIi5jb25jYXQob3B0cy5tZXRob2QgfHwgJ0dFVCcsIFwiIFwiKS5jb25jYXQoVVJJLCBcIiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KG9wdHMsIG51bGwsIDIpKSk7XG4gICAgcmV0dXJuICgwLCBfY3Jvc3NGZXRjaC5kZWZhdWx0KShVUkksIG9wdHMpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBmZXRjaGluZyBcIi5jb25jYXQoVVJJLCBcIjogXCIpLmNvbmNhdChyZXNwb25zZS5zdGF0dXMsIFwiIFwiKS5jb25jYXQocmVzcG9uc2Uuc3RhdHVzVGV4dCkpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0eXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpO1xuXG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBDb25uZWN0aW9uO1xuXG5jb25zdCBmbGF0dGVuU3Vic2NyaXB0aW9ucyA9IHN1YnNjcmlwdGlvbkNvbW1hbmRzID0+IHtcbiAgY29uc3QgY29tbWFuZFBlckNvbnRleHQgPSB7fTtcbiAgc3Vic2NyaXB0aW9uQ29tbWFuZHMuZm9yRWFjaChjb21tYW5kID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29tbWFuZFBlckNvbnRleHRbY29tbWFuZC5jb250ZXh0XSkpIHtcbiAgICAgIGNvbW1hbmRQZXJDb250ZXh0W2NvbW1hbmQuY29udGV4dF0gPSBbXTtcbiAgICB9XG5cbiAgICBjb21tYW5kUGVyQ29udGV4dFtjb21tYW5kLmNvbnRleHRdID0gY29tbWFuZFBlckNvbnRleHRbY29tbWFuZC5jb250ZXh0XS5jb25jYXQoY29tbWFuZC5zdWJzY3JpYmUpO1xuICB9KTtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGNvbW1hbmRQZXJDb250ZXh0KS5tYXAoY29udGV4dCA9PiB7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0ge1xuICAgICAgY29udGV4dCxcbiAgICAgIHN1YnNjcmliZTogY29tbWFuZFBlckNvbnRleHRbY29udGV4dF1cbiAgICB9O1xuXG4gICAgaWYgKHN1YnNjcmlwdGlvbi5zdWJzY3JpYmUubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgcGF0aHMgPSBbXTtcbiAgICAgIHN1YnNjcmlwdGlvbi5zdWJzY3JpYmUgPSBzdWJzY3JpcHRpb24uc3Vic2NyaWJlLnJlZHVjZSgobGlzdCwgY29tbWFuZCkgPT4ge1xuICAgICAgICBpZiAoIXBhdGhzLmluY2x1ZGVzKGNvbW1hbmQucGF0aCkpIHtcbiAgICAgICAgICBwYXRocy5wdXNoKGNvbW1hbmQucGF0aCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBsaXN0LmZpbmRJbmRleChjYW5kaWRhdGUgPT4gY2FuZGlkYXRlLnBhdGggPT09IGNvbW1hbmQucGF0aCk7XG5cbiAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGlzdC5wdXNoKGNvbW1hbmQpO1xuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAgIH0sIFtdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICB9KTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/dist/lib/connection.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/dist/lib/discovery.js":
/*!************************************************************!*\
  !*** ./node_modules/@signalk/client/dist/lib/discovery.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.SKServer = void 0;\n\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"(ssr)/./node_modules/core-js/modules/es.array.includes.js\");\n\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"(ssr)/./node_modules/core-js/modules/es.string.includes.js\");\n\n__webpack_require__(/*! core-js/modules/es.string.starts-with.js */ \"(ssr)/./node_modules/core-js/modules/es.string.starts-with.js\");\n\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"(ssr)/./node_modules/core-js/modules/es.parse-int.js\");\n\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"(ssr)/./node_modules/core-js/modules/es.regexp.exec.js\");\n\n__webpack_require__(/*! core-js/modules/es.string.split.js */ \"(ssr)/./node_modules/core-js/modules/es.string.split.js\");\n\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"(ssr)/./node_modules/core-js/modules/es.string.trim.js\");\n\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"(ssr)/./node_modules/core-js/modules/es.array.reduce.js\");\n\nvar _eventemitter = _interopRequireDefault(__webpack_require__(/*! eventemitter3 */ \"(ssr)/./node_modules/eventemitter3/index.js\"));\n\nvar _client = _interopRequireDefault(__webpack_require__(/*! ./client */ \"(ssr)/./node_modules/@signalk/client/dist/lib/client.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass SKServer {\n  constructor(service) {\n    this._roles = service.roles || ['master', 'main'];\n    this._self = service.self || '';\n    this._version = service.version || '0.0.0';\n    this._hostname = service.hostname;\n    this._port = service.port;\n  }\n\n  get roles() {\n    return this._roles;\n  }\n\n  get self() {\n    return this._self;\n  }\n\n  get version() {\n    return this._version;\n  }\n\n  get hostname() {\n    return this._hostname;\n  }\n\n  get port() {\n    return this._port;\n  }\n\n  isMain() {\n    return this._roles.includes('main');\n  }\n\n  isMaster() {\n    return this._roles.includes('master');\n  }\n\n  createClient() {\n    let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return new _client.default(_objectSpread(_objectSpread({}, opts), {}, {\n      hostname: this._hostname,\n      port: this._port\n    }));\n  }\n\n}\n\nexports.SKServer = SKServer;\n\nclass Discovery extends _eventemitter.default {\n  constructor(bonjourOrMdns) {\n    let timeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60000;\n    super();\n    this.found = [];\n\n    if (!bonjourOrMdns || typeof bonjourOrMdns !== 'object') {\n      throw new Error('No mDNS provider given');\n    }\n\n    const bonjourProps = ['_server', '_registry'].join(',');\n    const mdnsProps = ['dns_sd', 'Advertisement', 'createAdvertisement', 'Browser'].join(',');\n\n    if (Object.keys(bonjourOrMdns).join(',').startsWith(bonjourProps)) {\n      return this.discoverWithBonjour(bonjourOrMdns, timeout);\n    }\n\n    if (Object.keys(bonjourOrMdns).join(',').startsWith(mdnsProps)) {\n      return this.discoverWithMdns(bonjourOrMdns, timeout);\n    }\n\n    throw new Error('Unrecognized mDNS provider given');\n  }\n\n  discoverWithBonjour(bonjour, timeout) {\n    const browser = bonjour.find({\n      type: 'signalk-http'\n    });\n    browser.on('up', ad => this.handleDiscoveredService(ad, _objectSpread(_objectSpread({}, ad.txt), {}, {\n      name: ad.name || '',\n      hostname: ad.host || '',\n      port: parseInt(ad.port, 10),\n      provider: 'bonjour'\n    })));\n    setTimeout(() => {\n      if (this.found.length === 0) {\n        this.emit('timeout');\n      }\n\n      browser.stop();\n    }, timeout);\n    browser.start();\n  }\n\n  discoverWithMdns(mDNS, timeout) {\n    const browser = mDNS.createBrowser(mDNS.tcp('_signalk-http'));\n    browser.on('serviceUp', ad => this.handleDiscoveredService(ad, _objectSpread(_objectSpread({}, ad.txtRecord), {}, {\n      hostname: ad.host || '',\n      port: parseInt(ad.port, 10),\n      provider: 'mdns'\n    })));\n    browser.on('error', err => this.handleDiscoveryError(err));\n    setTimeout(() => {\n      if (this.found.length === 0) {\n        this.emit('timeout');\n      }\n\n      browser.stop();\n    }, timeout);\n    browser.start();\n  }\n\n  handleDiscoveryError(err) {\n    console.error(\"Error during discovery: \".concat(err.message));\n  }\n\n  handleDiscoveredService(ad, service) {\n    if (typeof service.roles === 'string') {\n      service.roles = service.roles.split(',').map(role => role.trim().toLowerCase());\n    }\n\n    service.roles = Array.isArray(service.roles) ? service.roles : [];\n    let ipv4 = service.hostname;\n\n    if (Array.isArray(ad.addresses)) {\n      ipv4 = ad.addresses.reduce((found, address) => {\n        if (address && typeof address === 'string' && address.includes('.')) {\n          found = address;\n        }\n\n        return found;\n      }, service.hostname);\n    }\n\n    if (ipv4.trim() !== '') {\n      service.hostname = ipv4;\n    }\n\n    const server = new SKServer(service);\n    this.found.push(server);\n    this.emit('found', server);\n  }\n\n}\n\nexports[\"default\"] = Discovery;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L2Rpc3QvbGliL2Rpc2NvdmVyeS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixrQkFBZSxHQUFHLGdCQUFnQjs7QUFFbEMsbUJBQU8sQ0FBQyx1R0FBc0M7O0FBRTlDLG1CQUFPLENBQUMseUdBQXVDOztBQUUvQyxtQkFBTyxDQUFDLCtHQUEwQzs7QUFFbEQsbUJBQU8sQ0FBQyw2RkFBaUM7O0FBRXpDLG1CQUFPLENBQUMsaUdBQW1DOztBQUUzQyxtQkFBTyxDQUFDLG1HQUFvQzs7QUFFNUMsbUJBQU8sQ0FBQyxpR0FBbUM7O0FBRTNDLG1CQUFPLENBQUMsbUdBQW9DOztBQUU1QywyQ0FBMkMsbUJBQU8sQ0FBQyxrRUFBZTs7QUFFbEUscUNBQXFDLG1CQUFPLENBQUMseUVBQVU7O0FBRXZELHVDQUF1Qyx1Q0FBdUM7O0FBRTlFLDJDQUEyQyxnQ0FBZ0Msb0NBQW9DLG9EQUFvRCw2REFBNkQsaUVBQWlFLHNDQUFzQzs7QUFFdlUsaUNBQWlDLGdCQUFnQixzQkFBc0IsT0FBTyx1REFBdUQsNkRBQTZELDRDQUE0QyxvS0FBb0ssbUZBQW1GLEtBQUs7O0FBRTFlLDRDQUE0QyxrQkFBa0Isa0NBQWtDLG9FQUFvRSxLQUFLLE9BQU8sb0JBQW9COztBQUVwTTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNkRBQTZELFdBQVc7QUFDeEU7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQSxnQkFBZ0I7O0FBRWhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCwwRkFBMEYsYUFBYTtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpR0FBaUcsbUJBQW1CO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vY2Vhcm8tdWkvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L2Rpc3QvbGliL2Rpc2NvdmVyeS5qcz80ODk3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gZXhwb3J0cy5TS1NlcnZlciA9IHZvaWQgMDtcblxucmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qc1wiKTtcblxucmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanNcIik7XG5cbnJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzXCIpO1xuXG5yZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludC5qc1wiKTtcblxucmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qc1wiKTtcblxucmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanNcIik7XG5cbnJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanNcIik7XG5cbnJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzXCIpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImV2ZW50ZW1pdHRlcjNcIikpO1xuXG52YXIgX2NsaWVudCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vY2xpZW50XCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuY2xhc3MgU0tTZXJ2ZXIge1xuICBjb25zdHJ1Y3RvcihzZXJ2aWNlKSB7XG4gICAgdGhpcy5fcm9sZXMgPSBzZXJ2aWNlLnJvbGVzIHx8IFsnbWFzdGVyJywgJ21haW4nXTtcbiAgICB0aGlzLl9zZWxmID0gc2VydmljZS5zZWxmIHx8ICcnO1xuICAgIHRoaXMuX3ZlcnNpb24gPSBzZXJ2aWNlLnZlcnNpb24gfHwgJzAuMC4wJztcbiAgICB0aGlzLl9ob3N0bmFtZSA9IHNlcnZpY2UuaG9zdG5hbWU7XG4gICAgdGhpcy5fcG9ydCA9IHNlcnZpY2UucG9ydDtcbiAgfVxuXG4gIGdldCByb2xlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fcm9sZXM7XG4gIH1cblxuICBnZXQgc2VsZigpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VsZjtcbiAgfVxuXG4gIGdldCB2ZXJzaW9uKCkge1xuICAgIHJldHVybiB0aGlzLl92ZXJzaW9uO1xuICB9XG5cbiAgZ2V0IGhvc3RuYW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9ob3N0bmFtZTtcbiAgfVxuXG4gIGdldCBwb3J0KCkge1xuICAgIHJldHVybiB0aGlzLl9wb3J0O1xuICB9XG5cbiAgaXNNYWluKCkge1xuICAgIHJldHVybiB0aGlzLl9yb2xlcy5pbmNsdWRlcygnbWFpbicpO1xuICB9XG5cbiAgaXNNYXN0ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JvbGVzLmluY2x1ZGVzKCdtYXN0ZXInKTtcbiAgfVxuXG4gIGNyZWF0ZUNsaWVudCgpIHtcbiAgICBsZXQgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgcmV0dXJuIG5ldyBfY2xpZW50LmRlZmF1bHQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvcHRzKSwge30sIHtcbiAgICAgIGhvc3RuYW1lOiB0aGlzLl9ob3N0bmFtZSxcbiAgICAgIHBvcnQ6IHRoaXMuX3BvcnRcbiAgICB9KSk7XG4gIH1cblxufVxuXG5leHBvcnRzLlNLU2VydmVyID0gU0tTZXJ2ZXI7XG5cbmNsYXNzIERpc2NvdmVyeSBleHRlbmRzIF9ldmVudGVtaXR0ZXIuZGVmYXVsdCB7XG4gIGNvbnN0cnVjdG9yKGJvbmpvdXJPck1kbnMpIHtcbiAgICBsZXQgdGltZW91dCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogNjAwMDA7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmZvdW5kID0gW107XG5cbiAgICBpZiAoIWJvbmpvdXJPck1kbnMgfHwgdHlwZW9mIGJvbmpvdXJPck1kbnMgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIG1ETlMgcHJvdmlkZXIgZ2l2ZW4nKTtcbiAgICB9XG5cbiAgICBjb25zdCBib25qb3VyUHJvcHMgPSBbJ19zZXJ2ZXInLCAnX3JlZ2lzdHJ5J10uam9pbignLCcpO1xuICAgIGNvbnN0IG1kbnNQcm9wcyA9IFsnZG5zX3NkJywgJ0FkdmVydGlzZW1lbnQnLCAnY3JlYXRlQWR2ZXJ0aXNlbWVudCcsICdCcm93c2VyJ10uam9pbignLCcpO1xuXG4gICAgaWYgKE9iamVjdC5rZXlzKGJvbmpvdXJPck1kbnMpLmpvaW4oJywnKS5zdGFydHNXaXRoKGJvbmpvdXJQcm9wcykpIHtcbiAgICAgIHJldHVybiB0aGlzLmRpc2NvdmVyV2l0aEJvbmpvdXIoYm9uam91ck9yTWRucywgdGltZW91dCk7XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdC5rZXlzKGJvbmpvdXJPck1kbnMpLmpvaW4oJywnKS5zdGFydHNXaXRoKG1kbnNQcm9wcykpIHtcbiAgICAgIHJldHVybiB0aGlzLmRpc2NvdmVyV2l0aE1kbnMoYm9uam91ck9yTWRucywgdGltZW91dCk7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbnJlY29nbml6ZWQgbUROUyBwcm92aWRlciBnaXZlbicpO1xuICB9XG5cbiAgZGlzY292ZXJXaXRoQm9uam91cihib25qb3VyLCB0aW1lb3V0KSB7XG4gICAgY29uc3QgYnJvd3NlciA9IGJvbmpvdXIuZmluZCh7XG4gICAgICB0eXBlOiAnc2lnbmFsay1odHRwJ1xuICAgIH0pO1xuICAgIGJyb3dzZXIub24oJ3VwJywgYWQgPT4gdGhpcy5oYW5kbGVEaXNjb3ZlcmVkU2VydmljZShhZCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBhZC50eHQpLCB7fSwge1xuICAgICAgbmFtZTogYWQubmFtZSB8fCAnJyxcbiAgICAgIGhvc3RuYW1lOiBhZC5ob3N0IHx8ICcnLFxuICAgICAgcG9ydDogcGFyc2VJbnQoYWQucG9ydCwgMTApLFxuICAgICAgcHJvdmlkZXI6ICdib25qb3VyJ1xuICAgIH0pKSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5mb3VuZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5lbWl0KCd0aW1lb3V0Jyk7XG4gICAgICB9XG5cbiAgICAgIGJyb3dzZXIuc3RvcCgpO1xuICAgIH0sIHRpbWVvdXQpO1xuICAgIGJyb3dzZXIuc3RhcnQoKTtcbiAgfVxuXG4gIGRpc2NvdmVyV2l0aE1kbnMobUROUywgdGltZW91dCkge1xuICAgIGNvbnN0IGJyb3dzZXIgPSBtRE5TLmNyZWF0ZUJyb3dzZXIobUROUy50Y3AoJ19zaWduYWxrLWh0dHAnKSk7XG4gICAgYnJvd3Nlci5vbignc2VydmljZVVwJywgYWQgPT4gdGhpcy5oYW5kbGVEaXNjb3ZlcmVkU2VydmljZShhZCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBhZC50eHRSZWNvcmQpLCB7fSwge1xuICAgICAgaG9zdG5hbWU6IGFkLmhvc3QgfHwgJycsXG4gICAgICBwb3J0OiBwYXJzZUludChhZC5wb3J0LCAxMCksXG4gICAgICBwcm92aWRlcjogJ21kbnMnXG4gICAgfSkpKTtcbiAgICBicm93c2VyLm9uKCdlcnJvcicsIGVyciA9PiB0aGlzLmhhbmRsZURpc2NvdmVyeUVycm9yKGVycikpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZm91bmQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuZW1pdCgndGltZW91dCcpO1xuICAgICAgfVxuXG4gICAgICBicm93c2VyLnN0b3AoKTtcbiAgICB9LCB0aW1lb3V0KTtcbiAgICBicm93c2VyLnN0YXJ0KCk7XG4gIH1cblxuICBoYW5kbGVEaXNjb3ZlcnlFcnJvcihlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZHVyaW5nIGRpc2NvdmVyeTogXCIuY29uY2F0KGVyci5tZXNzYWdlKSk7XG4gIH1cblxuICBoYW5kbGVEaXNjb3ZlcmVkU2VydmljZShhZCwgc2VydmljZSkge1xuICAgIGlmICh0eXBlb2Ygc2VydmljZS5yb2xlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHNlcnZpY2Uucm9sZXMgPSBzZXJ2aWNlLnJvbGVzLnNwbGl0KCcsJykubWFwKHJvbGUgPT4gcm9sZS50cmltKCkudG9Mb3dlckNhc2UoKSk7XG4gICAgfVxuXG4gICAgc2VydmljZS5yb2xlcyA9IEFycmF5LmlzQXJyYXkoc2VydmljZS5yb2xlcykgPyBzZXJ2aWNlLnJvbGVzIDogW107XG4gICAgbGV0IGlwdjQgPSBzZXJ2aWNlLmhvc3RuYW1lO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYWQuYWRkcmVzc2VzKSkge1xuICAgICAgaXB2NCA9IGFkLmFkZHJlc3Nlcy5yZWR1Y2UoKGZvdW5kLCBhZGRyZXNzKSA9PiB7XG4gICAgICAgIGlmIChhZGRyZXNzICYmIHR5cGVvZiBhZGRyZXNzID09PSAnc3RyaW5nJyAmJiBhZGRyZXNzLmluY2x1ZGVzKCcuJykpIHtcbiAgICAgICAgICBmb3VuZCA9IGFkZHJlc3M7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgICB9LCBzZXJ2aWNlLmhvc3RuYW1lKTtcbiAgICB9XG5cbiAgICBpZiAoaXB2NC50cmltKCkgIT09ICcnKSB7XG4gICAgICBzZXJ2aWNlLmhvc3RuYW1lID0gaXB2NDtcbiAgICB9XG5cbiAgICBjb25zdCBzZXJ2ZXIgPSBuZXcgU0tTZXJ2ZXIoc2VydmljZSk7XG4gICAgdGhpcy5mb3VuZC5wdXNoKHNlcnZlcik7XG4gICAgdGhpcy5lbWl0KCdmb3VuZCcsIHNlcnZlcik7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBEaXNjb3Zlcnk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/dist/lib/discovery.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/dist/lib/request.js":
/*!**********************************************************!*\
  !*** ./node_modules/@signalk/client/dist/lib/request.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n\nvar _eventemitter = _interopRequireDefault(__webpack_require__(/*! eventemitter3 */ \"(ssr)/./node_modules/eventemitter3/index.js\"));\n\nvar _debug = _interopRequireDefault(__webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\"));\n\nvar _uuid = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nconst debug = (0, _debug.default)('signalk-js-sdk/Request');\n\nclass Request extends _eventemitter.default {\n  constructor(connection, name, body) {\n    super();\n    this.connection = connection;\n    this.requestId = (0, _uuid.v4)();\n    this.name = name;\n    this.body = body;\n    this.responses = [];\n    this.sent = false;\n    this.connection.on('message', message => {\n      if (message && typeof message === 'object' && message.hasOwnProperty('requestId') && message.requestId === this.requestId) {\n        this.addResponse(message);\n      }\n    });\n  }\n\n  query() {\n    const request = {\n      requestId: this.requestId,\n      query: true\n    };\n    debug(\"Sending query: \".concat(JSON.stringify(request, null, 2)));\n    this.connection.send(request);\n  }\n\n  send() {\n    if (this.sent === true) {\n      return;\n    }\n\n    const request = _objectSpread({\n      requestId: this.requestId\n    }, this.body);\n\n    debug(\"Sending request: \".concat(JSON.stringify(request, null, 2)));\n    this.connection.send(request);\n  }\n\n  addResponse(response) {\n    debug(\"Got response for request \\\"\".concat(this.name, \"\\\": \").concat(JSON.stringify(response, null, 2)));\n    const receivedAt = new Date().toISOString();\n    this.responses.push({\n      response,\n      receivedAt\n    });\n    this.emit('response', _objectSpread(_objectSpread({}, response), {}, {\n      request: {\n        receivedAt,\n        name: this.name,\n        requestId: this.requestId\n      }\n    }));\n  }\n\n  getRequestId() {\n    return this.requestId;\n  }\n\n}\n\nexports[\"default\"] = Request;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L2Rpc3QvbGliL3JlcXVlc3QuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0Ysa0JBQWU7O0FBRWYsMkNBQTJDLG1CQUFPLENBQUMsa0VBQWU7O0FBRWxFLG9DQUFvQyxtQkFBTyxDQUFDLHNEQUFPOztBQUVuRCxZQUFZLG1CQUFPLENBQUMsMkZBQU07O0FBRTFCLHVDQUF1Qyx1Q0FBdUM7O0FBRTlFLDJDQUEyQyxnQ0FBZ0Msb0NBQW9DLG9EQUFvRCw2REFBNkQsaUVBQWlFLHNDQUFzQzs7QUFFdlUsaUNBQWlDLGdCQUFnQixzQkFBc0IsT0FBTyx1REFBdUQsNkRBQTZELDRDQUE0QyxvS0FBb0ssbUZBQW1GLEtBQUs7O0FBRTFlLDRDQUE0QyxrQkFBa0Isa0NBQWtDLG9FQUFvRSxLQUFLLE9BQU8sb0JBQW9COztBQUVwTTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsd0RBQXdELGVBQWU7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vY2Vhcm8tdWkvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L2Rpc3QvbGliL3JlcXVlc3QuanM/Y2NhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9ldmVudGVtaXR0ZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJldmVudGVtaXR0ZXIzXCIpKTtcblxudmFyIF9kZWJ1ZyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImRlYnVnXCIpKTtcblxudmFyIF91dWlkID0gcmVxdWlyZShcInV1aWRcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmNvbnN0IGRlYnVnID0gKDAsIF9kZWJ1Zy5kZWZhdWx0KSgnc2lnbmFsay1qcy1zZGsvUmVxdWVzdCcpO1xuXG5jbGFzcyBSZXF1ZXN0IGV4dGVuZHMgX2V2ZW50ZW1pdHRlci5kZWZhdWx0IHtcbiAgY29uc3RydWN0b3IoY29ubmVjdGlvbiwgbmFtZSwgYm9keSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jb25uZWN0aW9uID0gY29ubmVjdGlvbjtcbiAgICB0aGlzLnJlcXVlc3RJZCA9ICgwLCBfdXVpZC52NCkoKTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgdGhpcy5yZXNwb25zZXMgPSBbXTtcbiAgICB0aGlzLnNlbnQgPSBmYWxzZTtcbiAgICB0aGlzLmNvbm5lY3Rpb24ub24oJ21lc3NhZ2UnLCBtZXNzYWdlID0+IHtcbiAgICAgIGlmIChtZXNzYWdlICYmIHR5cGVvZiBtZXNzYWdlID09PSAnb2JqZWN0JyAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KCdyZXF1ZXN0SWQnKSAmJiBtZXNzYWdlLnJlcXVlc3RJZCA9PT0gdGhpcy5yZXF1ZXN0SWQpIHtcbiAgICAgICAgdGhpcy5hZGRSZXNwb25zZShtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHF1ZXJ5KCkge1xuICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICByZXF1ZXN0SWQ6IHRoaXMucmVxdWVzdElkLFxuICAgICAgcXVlcnk6IHRydWVcbiAgICB9O1xuICAgIGRlYnVnKFwiU2VuZGluZyBxdWVyeTogXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHJlcXVlc3QsIG51bGwsIDIpKSk7XG4gICAgdGhpcy5jb25uZWN0aW9uLnNlbmQocmVxdWVzdCk7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIGlmICh0aGlzLnNlbnQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZXF1ZXN0ID0gX29iamVjdFNwcmVhZCh7XG4gICAgICByZXF1ZXN0SWQ6IHRoaXMucmVxdWVzdElkXG4gICAgfSwgdGhpcy5ib2R5KTtcblxuICAgIGRlYnVnKFwiU2VuZGluZyByZXF1ZXN0OiBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkocmVxdWVzdCwgbnVsbCwgMikpKTtcbiAgICB0aGlzLmNvbm5lY3Rpb24uc2VuZChyZXF1ZXN0KTtcbiAgfVxuXG4gIGFkZFJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgZGVidWcoXCJHb3QgcmVzcG9uc2UgZm9yIHJlcXVlc3QgXFxcIlwiLmNvbmNhdCh0aGlzLm5hbWUsIFwiXFxcIjogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShyZXNwb25zZSwgbnVsbCwgMikpKTtcbiAgICBjb25zdCByZWNlaXZlZEF0ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIHRoaXMucmVzcG9uc2VzLnB1c2goe1xuICAgICAgcmVzcG9uc2UsXG4gICAgICByZWNlaXZlZEF0XG4gICAgfSk7XG4gICAgdGhpcy5lbWl0KCdyZXNwb25zZScsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmVzcG9uc2UpLCB7fSwge1xuICAgICAgcmVxdWVzdDoge1xuICAgICAgICByZWNlaXZlZEF0LFxuICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIHJlcXVlc3RJZDogdGhpcy5yZXF1ZXN0SWRcbiAgICAgIH1cbiAgICB9KSk7XG4gIH1cblxuICBnZXRSZXF1ZXN0SWQoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdElkO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gUmVxdWVzdDsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/dist/lib/request.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/index.js":
/*!***********************************************!*\
  !*** ./node_modules/@signalk/client/index.js ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = __webpack_require__(/*! ./dist */ \"(ssr)/./node_modules/@signalk/client/dist/index.js\")\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFBLHdHQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL29jZWFyby11aS8uL25vZGVfbW9kdWxlcy9Ac2lnbmFsay9jbGllbnQvaW5kZXguanM/ODUxOCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZGlzdCcpXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/index.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/index.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NIL: () => (/* reexport safe */ _nil_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   parse: () => (/* reexport safe */ _parse_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]),\n/* harmony export */   stringify: () => (/* reexport safe */ _stringify_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]),\n/* harmony export */   v1: () => (/* reexport safe */ _v1_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   v3: () => (/* reexport safe */ _v3_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   v4: () => (/* reexport safe */ _v4_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   v5: () => (/* reexport safe */ _v5_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   validate: () => (/* reexport safe */ _validate_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]),\n/* harmony export */   version: () => (/* reexport safe */ _version_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _v1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v1.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v1.js\");\n/* harmony import */ var _v3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./v3.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v3.js\");\n/* harmony import */ var _v4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./v4.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var _v5_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./v5.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v5.js\");\n/* harmony import */ var _nil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./nil.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/nil.js\");\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./version.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/version.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/validate.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./stringify.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/stringify.js\");\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parse.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/parse.js\");\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0U7QUFDUTtBQUNFO0FBQ0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vY2Vhcm8tdWkvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvaW5kZXguanM/MWU0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBkZWZhdWx0IGFzIHYxIH0gZnJvbSAnLi92MS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHYzIH0gZnJvbSAnLi92My5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHY0IH0gZnJvbSAnLi92NC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHY1IH0gZnJvbSAnLi92NS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE5JTCB9IGZyb20gJy4vbmlsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdmVyc2lvbiB9IGZyb20gJy4vdmVyc2lvbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHZhbGlkYXRlIH0gZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHN0cmluZ2lmeSB9IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcGFyc2UgfSBmcm9tICcuL3BhcnNlLmpzJzsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/md5.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/md5.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction md5(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto__WEBPACK_IMPORTED_MODULE_0___default().createHash('md5').update(bytes).digest();\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (md5);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbWQ1LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0Qjs7QUFFNUI7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUEsU0FBUyx3REFBaUI7QUFDMUI7O0FBRUEsaUVBQWUsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL29jZWFyby11aS8uL25vZGVfbW9kdWxlcy9Ac2lnbmFsay9jbGllbnQvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9tZDUuanM/NTgyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0byc7XG5cbmZ1bmN0aW9uIG1kNShieXRlcykge1xuICBpZiAoQXJyYXkuaXNBcnJheShieXRlcykpIHtcbiAgICBieXRlcyA9IEJ1ZmZlci5mcm9tKGJ5dGVzKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgYnl0ZXMgPSBCdWZmZXIuZnJvbShieXRlcywgJ3V0ZjgnKTtcbiAgfVxuXG4gIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaCgnbWQ1JykudXBkYXRlKGJ5dGVzKS5kaWdlc3QoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWQ1OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/md5.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/nil.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/nil.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ('00000000-0000-0000-0000-000000000000');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbmlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxzQ0FBc0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vY2Vhcm8tdWkvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbmlsLmpzPzZjNDEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgJzAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCc7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/nil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/parse.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/parse.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/validate.js\");\n\n\nfunction parse(uuid) {\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (parse);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcGFyc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBcUM7O0FBRXJDO0FBQ0EsT0FBTyx3REFBUTtBQUNmO0FBQ0E7O0FBRUE7QUFDQSxrQ0FBa0M7O0FBRWxDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjs7QUFFckI7QUFDQSxxQkFBcUI7O0FBRXJCO0FBQ0EscUJBQXFCOztBQUVyQjtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlFQUFlLEtBQUsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vY2Vhcm8tdWkvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcGFyc2UuanM/MTdhNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5cbmZ1bmN0aW9uIHBhcnNlKHV1aWQpIHtcbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCBVVUlEJyk7XG4gIH1cblxuICBsZXQgdjtcbiAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMTYpOyAvLyBQYXJzZSAjIyMjIyMjIy0uLi4uLS4uLi4tLi4uLi0uLi4uLi4uLi4uLi5cblxuICBhcnJbMF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMCwgOCksIDE2KSkgPj4+IDI0O1xuICBhcnJbMV0gPSB2ID4+PiAxNiAmIDB4ZmY7XG4gIGFyclsyXSA9IHYgPj4+IDggJiAweGZmO1xuICBhcnJbM10gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tIyMjIy0uLi4uLS4uLi4tLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzRdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDksIDEzKSwgMTYpKSA+Pj4gODtcbiAgYXJyWzVdID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tIyMjIy0uLi4uLS4uLi4uLi4uLi4uLlxuXG4gIGFycls2XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgxNCwgMTgpLCAxNikpID4+PiA4O1xuICBhcnJbN10gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0uLi4uLSMjIyMtLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzhdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDE5LCAyMyksIDE2KSkgPj4+IDg7XG4gIGFycls5XSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLS4uLi4tLi4uLi0jIyMjIyMjIyMjIyNcbiAgLy8gKFVzZSBcIi9cIiB0byBhdm9pZCAzMi1iaXQgdHJ1bmNhdGlvbiB3aGVuIGJpdC1zaGlmdGluZyBoaWdoLW9yZGVyIGJ5dGVzKVxuXG4gIGFyclsxMF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMjQsIDM2KSwgMTYpKSAvIDB4MTAwMDAwMDAwMDAgJiAweGZmO1xuICBhcnJbMTFdID0gdiAvIDB4MTAwMDAwMDAwICYgMHhmZjtcbiAgYXJyWzEyXSA9IHYgPj4+IDI0ICYgMHhmZjtcbiAgYXJyWzEzXSA9IHYgPj4+IDE2ICYgMHhmZjtcbiAgYXJyWzE0XSA9IHYgPj4+IDggJiAweGZmO1xuICBhcnJbMTVdID0gdiAmIDB4ZmY7XG4gIHJldHVybiBhcnI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBhcnNlOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/parse.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/regex.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/regex.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcmVnZXguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWMsRUFBRSxVQUFVLEVBQUUsZUFBZSxFQUFFLGdCQUFnQixFQUFFLFVBQVUsR0FBRyx5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vY2Vhcm8tdWkvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcmVnZXguanM/MDNiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCAvXig/OlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCkkL2k7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/regex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/rng.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/rng.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ rng)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nfunction rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto__WEBPACK_IMPORTED_MODULE_0___default().randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcm5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0QjtBQUM1Qix1Q0FBdUM7O0FBRXZDO0FBQ2U7QUFDZjtBQUNBLElBQUksNERBQXFCO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL29jZWFyby11aS8uL25vZGVfbW9kdWxlcy9Ac2lnbmFsay9jbGllbnQvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9ybmcuanM/MGQyYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0byc7XG5jb25zdCBybmRzOFBvb2wgPSBuZXcgVWludDhBcnJheSgyNTYpOyAvLyAjIG9mIHJhbmRvbSB2YWx1ZXMgdG8gcHJlLWFsbG9jYXRlXG5cbmxldCBwb29sUHRyID0gcm5kczhQb29sLmxlbmd0aDtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJuZygpIHtcbiAgaWYgKHBvb2xQdHIgPiBybmRzOFBvb2wubGVuZ3RoIC0gMTYpIHtcbiAgICBjcnlwdG8ucmFuZG9tRmlsbFN5bmMocm5kczhQb29sKTtcbiAgICBwb29sUHRyID0gMDtcbiAgfVxuXG4gIHJldHVybiBybmRzOFBvb2wuc2xpY2UocG9vbFB0ciwgcG9vbFB0ciArPSAxNik7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/rng.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/sha1.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/sha1.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto__WEBPACK_IMPORTED_MODULE_0___default().createHash('sha1').update(bytes).digest();\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sha1);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvc2hhMS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEI7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBLFNBQVMsd0RBQWlCO0FBQzFCOztBQUVBLGlFQUFlLElBQUkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vY2Vhcm8tdWkvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvc2hhMS5qcz8wMzg5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcblxuZnVuY3Rpb24gc2hhMShieXRlcykge1xuICBpZiAoQXJyYXkuaXNBcnJheShieXRlcykpIHtcbiAgICBieXRlcyA9IEJ1ZmZlci5mcm9tKGJ5dGVzKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgYnl0ZXMgPSBCdWZmZXIuZnJvbShieXRlcywgJ3V0ZjgnKTtcbiAgfVxuXG4gIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaCgnc2hhMScpLnVwZGF0ZShieXRlcykuZGlnZXN0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNoYTE7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/sha1.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/stringify.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/stringify.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/validate.js\");\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  const uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvc3RyaW5naWZ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNGdCQUE0Z0I7QUFDNWdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU8sd0RBQVE7QUFDZjtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsaUVBQWUsU0FBUyIsInNvdXJjZXMiOlsid2VicGFjazovL29jZWFyby11aS8uL25vZGVfbW9kdWxlcy9Ac2lnbmFsay9jbGllbnQvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9zdHJpbmdpZnkuanM/Mjc2NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cblxuY29uc3QgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIGNvbnN0IHV1aWQgPSAoYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV0pLnRvTG93ZXJDYXNlKCk7IC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcblxuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQnKTtcbiAgfVxuXG4gIHJldHVybiB1dWlkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdHJpbmdpZnk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/stringify.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v1.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v1.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/stringify.js\");\n\n // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(b);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v1);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJCO0FBQ1ksQ0FBQztBQUN4QztBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsZUFBZTs7O0FBR2Y7QUFDQSxvQkFBb0I7O0FBRXBCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRkFBZ0Y7QUFDaEY7QUFDQTs7QUFFQTtBQUNBLHdEQUF3RCwrQ0FBRzs7QUFFM0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOzs7QUFHQSx3RUFBd0U7QUFDeEU7O0FBRUEsNEVBQTRFOztBQUU1RSxnRUFBZ0U7O0FBRWhFO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7OztBQUdBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHdCQUF3Qjs7QUFFeEIsMkJBQTJCOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjs7QUFFdEI7QUFDQTtBQUNBLHVCQUF1Qjs7QUFFdkIsb0NBQW9DOztBQUVwQyw4QkFBOEI7O0FBRTlCLGtDQUFrQzs7QUFFbEMsNEJBQTRCOztBQUU1QixrQkFBa0IsT0FBTztBQUN6QjtBQUNBOztBQUVBLGdCQUFnQix5REFBUztBQUN6Qjs7QUFFQSxpRUFBZSxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2NlYXJvLXVpLy4vbm9kZV9tb2R1bGVzL0BzaWduYWxrL2NsaWVudC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3YxLmpzPzE5NzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJzsgLy8gKipgdjEoKWAgLSBHZW5lcmF0ZSB0aW1lLWJhc2VkIFVVSUQqKlxuLy9cbi8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9MaW9zSy9VVUlELmpzXG4vLyBhbmQgaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3V1aWQuaHRtbFxuXG5sZXQgX25vZGVJZDtcblxubGV0IF9jbG9ja3NlcTsgLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lXG5cblxubGV0IF9sYXN0TVNlY3MgPSAwO1xubGV0IF9sYXN0TlNlY3MgPSAwOyAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkIGZvciBBUEkgZGV0YWlsc1xuXG5mdW5jdGlvbiB2MShvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBsZXQgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgY29uc3QgYiA9IGJ1ZiB8fCBuZXcgQXJyYXkoMTYpO1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGV0IG5vZGUgPSBvcHRpb25zLm5vZGUgfHwgX25vZGVJZDtcbiAgbGV0IGNsb2Nrc2VxID0gb3B0aW9ucy5jbG9ja3NlcSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbG9ja3NlcSA6IF9jbG9ja3NlcTsgLy8gbm9kZSBhbmQgY2xvY2tzZXEgbmVlZCB0byBiZSBpbml0aWFsaXplZCB0byByYW5kb20gdmFsdWVzIGlmIHRoZXkncmUgbm90XG4gIC8vIHNwZWNpZmllZC4gIFdlIGRvIHRoaXMgbGF6aWx5IHRvIG1pbmltaXplIGlzc3VlcyByZWxhdGVkIHRvIGluc3VmZmljaWVudFxuICAvLyBzeXN0ZW0gZW50cm9weS4gIFNlZSAjMTg5XG5cbiAgaWYgKG5vZGUgPT0gbnVsbCB8fCBjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgY29uc3Qgc2VlZEJ5dGVzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjUsIGNyZWF0ZSBhbmQgNDgtYml0IG5vZGUgaWQsICg0NyByYW5kb20gYml0cyArIG11bHRpY2FzdCBiaXQgPSAxKVxuICAgICAgbm9kZSA9IF9ub2RlSWQgPSBbc2VlZEJ5dGVzWzBdIHwgMHgwMSwgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1dO1xuICAgIH1cblxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfSAvLyBVVUlEIHRpbWVzdGFtcHMgYXJlIDEwMCBuYW5vLXNlY29uZCB1bml0cyBzaW5jZSB0aGUgR3JlZ29yaWFuIGVwb2NoLFxuICAvLyAoMTU4Mi0xMC0xNSAwMDowMCkuICBKU051bWJlcnMgYXJlbid0IHByZWNpc2UgZW5vdWdoIGZvciB0aGlzLCBzb1xuICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2VjcydcbiAgLy8gKDEwMC1uYW5vc2Vjb25kcyBvZmZzZXQgZnJvbSBtc2Vjcykgc2luY2UgdW5peCBlcG9jaCwgMTk3MC0wMS0wMSAwMDowMC5cblxuXG4gIGxldCBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBEYXRlLm5vdygpOyAvLyBQZXIgNC4yLjEuMiwgdXNlIGNvdW50IG9mIHV1aWQncyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjdXJyZW50IGNsb2NrXG4gIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG5cbiAgbGV0IG5zZWNzID0gb3B0aW9ucy5uc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uc2VjcyA6IF9sYXN0TlNlY3MgKyAxOyAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpXG5cbiAgY29uc3QgZHQgPSBtc2VjcyAtIF9sYXN0TVNlY3MgKyAobnNlY3MgLSBfbGFzdE5TZWNzKSAvIDEwMDAwOyAvLyBQZXIgNC4yLjEuMiwgQnVtcCBjbG9ja3NlcSBvbiBjbG9jayByZWdyZXNzaW9uXG5cbiAgaWYgKGR0IDwgMCAmJiBvcHRpb25zLmNsb2Nrc2VxID09PSB1bmRlZmluZWQpIHtcbiAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgfSAvLyBSZXNldCBuc2VjcyBpZiBjbG9jayByZWdyZXNzZXMgKG5ldyBjbG9ja3NlcSkgb3Igd2UndmUgbW92ZWQgb250byBhIG5ld1xuICAvLyB0aW1lIGludGVydmFsXG5cblxuICBpZiAoKGR0IDwgMCB8fCBtc2VjcyA+IF9sYXN0TVNlY3MpICYmIG9wdGlvbnMubnNlY3MgPT09IHVuZGVmaW5lZCkge1xuICAgIG5zZWNzID0gMDtcbiAgfSAvLyBQZXIgNC4yLjEuMiBUaHJvdyBlcnJvciBpZiB0b28gbWFueSB1dWlkcyBhcmUgcmVxdWVzdGVkXG5cblxuICBpZiAobnNlY3MgPj0gMTAwMDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1dWlkLnYxKCk6IENhbid0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlY1wiKTtcbiAgfVxuXG4gIF9sYXN0TVNlY3MgPSBtc2VjcztcbiAgX2xhc3ROU2VjcyA9IG5zZWNzO1xuICBfY2xvY2tzZXEgPSBjbG9ja3NlcTsgLy8gUGVyIDQuMS40IC0gQ29udmVydCBmcm9tIHVuaXggZXBvY2ggdG8gR3JlZ29yaWFuIGVwb2NoXG5cbiAgbXNlY3MgKz0gMTIyMTkyOTI4MDAwMDA7IC8vIGB0aW1lX2xvd2BcblxuICBjb25zdCB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7IC8vIGB0aW1lX21pZGBcblxuICBjb25zdCB0bWggPSBtc2VjcyAvIDB4MTAwMDAwMDAwICogMTAwMDAgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7IC8vIGB0aW1lX2hpZ2hfYW5kX3ZlcnNpb25gXG5cbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmOyAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcblxuICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDB4ODA7IC8vIGBjbG9ja19zZXFfbG93YFxuXG4gIGJbaSsrXSA9IGNsb2Nrc2VxICYgMHhmZjsgLy8gYG5vZGVgXG5cbiAgZm9yIChsZXQgbiA9IDA7IG4gPCA2OyArK24pIHtcbiAgICBiW2kgKyBuXSA9IG5vZGVbbl07XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IHN0cmluZ2lmeShiKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjE7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v1.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v3.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v3.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v35.js\");\n/* harmony import */ var _md5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./md5.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/md5.js\");\n\n\nconst v3 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('v3', 0x30, _md5_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v3);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJCO0FBQ0E7QUFDM0IsV0FBVyxtREFBRyxhQUFhLCtDQUFHO0FBQzlCLGlFQUFlLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vY2Vhcm8tdWkvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjMuanM/ZDQ0MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdjM1IGZyb20gJy4vdjM1LmpzJztcbmltcG9ydCBtZDUgZnJvbSAnLi9tZDUuanMnO1xuY29uc3QgdjMgPSB2MzUoJ3YzJywgMHgzMCwgbWQ1KTtcbmV4cG9ydCBkZWZhdWx0IHYzOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v3.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v35.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v35.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DNS: () => (/* binding */ DNS),\n/* harmony export */   URL: () => (/* binding */ URL),\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/stringify.js\");\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/parse.js\");\n\n\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nconst DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nconst URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = (0,_parse_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjM1LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXVDO0FBQ1I7O0FBRS9CO0FBQ0EsMkNBQTJDOztBQUUzQzs7QUFFQSxrQkFBa0IsZ0JBQWdCO0FBQ2xDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFTztBQUNBO0FBQ1AsNkJBQWUsb0NBQVU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IscURBQUs7QUFDdkI7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxzQkFBc0IsUUFBUTtBQUM5QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsV0FBVyx5REFBUztBQUNwQixJQUFJOzs7QUFHSjtBQUNBLDhCQUE4QjtBQUM5QixJQUFJLGVBQWU7OztBQUduQjtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL29jZWFyby11aS8uL25vZGVfbW9kdWxlcy9Ac2lnbmFsay9jbGllbnQvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92MzUuanM/Mzc3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcbmltcG9ydCBwYXJzZSBmcm9tICcuL3BhcnNlLmpzJztcblxuZnVuY3Rpb24gc3RyaW5nVG9CeXRlcyhzdHIpIHtcbiAgc3RyID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpOyAvLyBVVEY4IGVzY2FwZVxuXG4gIGNvbnN0IGJ5dGVzID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBieXRlcy5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpKTtcbiAgfVxuXG4gIHJldHVybiBieXRlcztcbn1cblxuZXhwb3J0IGNvbnN0IEROUyA9ICc2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnO1xuZXhwb3J0IGNvbnN0IFVSTCA9ICc2YmE3YjgxMS05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKG5hbWUsIHZlcnNpb24sIGhhc2hmdW5jKSB7XG4gIGZ1bmN0aW9uIGdlbmVyYXRlVVVJRCh2YWx1ZSwgbmFtZXNwYWNlLCBidWYsIG9mZnNldCkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IHN0cmluZ1RvQnl0ZXModmFsdWUpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbmFtZXNwYWNlID09PSAnc3RyaW5nJykge1xuICAgICAgbmFtZXNwYWNlID0gcGFyc2UobmFtZXNwYWNlKTtcbiAgICB9XG5cbiAgICBpZiAobmFtZXNwYWNlLmxlbmd0aCAhPT0gMTYpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcignTmFtZXNwYWNlIG11c3QgYmUgYXJyYXktbGlrZSAoMTYgaXRlcmFibGUgaW50ZWdlciB2YWx1ZXMsIDAtMjU1KScpO1xuICAgIH0gLy8gQ29tcHV0ZSBoYXNoIG9mIG5hbWVzcGFjZSBhbmQgdmFsdWUsIFBlciA0LjNcbiAgICAvLyBGdXR1cmU6IFVzZSBzcHJlYWQgc3ludGF4IHdoZW4gc3VwcG9ydGVkIG9uIGFsbCBwbGF0Zm9ybXMsIGUuZy4gYGJ5dGVzID1cbiAgICAvLyBoYXNoZnVuYyhbLi4ubmFtZXNwYWNlLCAuLi4gdmFsdWVdKWBcblxuXG4gICAgbGV0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoMTYgKyB2YWx1ZS5sZW5ndGgpO1xuICAgIGJ5dGVzLnNldChuYW1lc3BhY2UpO1xuICAgIGJ5dGVzLnNldCh2YWx1ZSwgbmFtZXNwYWNlLmxlbmd0aCk7XG4gICAgYnl0ZXMgPSBoYXNoZnVuYyhieXRlcyk7XG4gICAgYnl0ZXNbNl0gPSBieXRlc1s2XSAmIDB4MGYgfCB2ZXJzaW9uO1xuICAgIGJ5dGVzWzhdID0gYnl0ZXNbOF0gJiAweDNmIHwgMHg4MDtcblxuICAgIGlmIChidWYpIHtcbiAgICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgICAgYnVmW29mZnNldCArIGldID0gYnl0ZXNbaV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBidWY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cmluZ2lmeShieXRlcyk7XG4gIH0gLy8gRnVuY3Rpb24jbmFtZSBpcyBub3Qgc2V0dGFibGUgb24gc29tZSBwbGF0Zm9ybXMgKCMyNzApXG5cblxuICB0cnkge1xuICAgIGdlbmVyYXRlVVVJRC5uYW1lID0gbmFtZTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gIH0gY2F0Y2ggKGVycikge30gLy8gRm9yIENvbW1vbkpTIGRlZmF1bHQgZXhwb3J0IHN1cHBvcnRcblxuXG4gIGdlbmVyYXRlVVVJRC5ETlMgPSBETlM7XG4gIGdlbmVyYXRlVVVJRC5VUkwgPSBVUkw7XG4gIHJldHVybiBnZW5lcmF0ZVVVSUQ7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v35.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v4.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v4.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/stringify.js\");\n\n\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  const rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(rnds);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJCO0FBQ1k7O0FBRXZDO0FBQ0E7QUFDQSxpREFBaUQsK0NBQUcsS0FBSzs7QUFFekQ7QUFDQSxtQ0FBbUM7O0FBRW5DO0FBQ0E7O0FBRUEsb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFNBQVMseURBQVM7QUFDbEI7O0FBRUEsaUVBQWUsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL29jZWFyby11aS8uL25vZGVfbW9kdWxlcy9Ac2lnbmFsay9jbGllbnQvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92NC5qcz9lNDk5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTsgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7IC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuXG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgYnVmW29mZnNldCArIGldID0gcm5kc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmO1xuICB9XG5cbiAgcmV0dXJuIHN0cmluZ2lmeShybmRzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjQ7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v4.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v5.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v5.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v35.js\");\n/* harmony import */ var _sha1_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sha1.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/sha1.js\");\n\n\nconst v5 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('v5', 0x50, _sha1_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v5);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJCO0FBQ0U7QUFDN0IsV0FBVyxtREFBRyxhQUFhLGdEQUFJO0FBQy9CLGlFQUFlLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vY2Vhcm8tdWkvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjUuanM/NThiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdjM1IGZyb20gJy4vdjM1LmpzJztcbmltcG9ydCBzaGExIGZyb20gJy4vc2hhMS5qcyc7XG5jb25zdCB2NSA9IHYzNSgndjUnLCAweDUwLCBzaGExKTtcbmV4cG9ydCBkZWZhdWx0IHY1OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/v5.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/validate.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/validate.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/regex.js\");\n\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].test(uuid);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdmFsaWRhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0I7O0FBRS9CO0FBQ0EscUNBQXFDLGlEQUFLO0FBQzFDOztBQUVBLGlFQUFlLFFBQVEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vY2Vhcm8tdWkvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdmFsaWRhdGUuanM/MjI4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUkVHRVggZnJvbSAnLi9yZWdleC5qcyc7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlKHV1aWQpIHtcbiAgcmV0dXJuIHR5cGVvZiB1dWlkID09PSAnc3RyaW5nJyAmJiBSRUdFWC50ZXN0KHV1aWQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2YWxpZGF0ZTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/validate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/version.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/version.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/validate.js\");\n\n\nfunction version(uuid) {\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (version);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdmVyc2lvbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxQzs7QUFFckM7QUFDQSxPQUFPLHdEQUFRO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlFQUFlLE9BQU8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vY2Vhcm8tdWkvLi9ub2RlX21vZHVsZXMvQHNpZ25hbGsvY2xpZW50L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdmVyc2lvbi5qcz9kNDRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcblxuZnVuY3Rpb24gdmVyc2lvbih1dWlkKSB7XG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0ludmFsaWQgVVVJRCcpO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlSW50KHV1aWQuc3Vic3RyKDE0LCAxKSwgMTYpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2ZXJzaW9uOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@signalk/client/node_modules/uuid/dist/esm-node/version.js\n");

/***/ })

};
;