"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{7252:function(e,t,l){l.r(t);var a=l(7437),n=l(2265),r=l(166),i=l(3082),s=l(3321);let o=(0,r.default)(()=>l.e(79).then(l.bind(l,8079)),{loadableGenerated:{webpack:()=>[8079]},loading:()=>(0,a.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:"Loading documents..."})}),c=(0,r.default)(()=>l.e(73).then(l.bind(l,9073)),{loadableGenerated:{webpack:()=>[9073]},loading:()=>(0,a.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:"Loading settings..."})}),d=(0,r.default)(()=>Promise.all([l.e(676),l.e(268),l.e(145),l.e(138)]).then(l.bind(l,9138)),{loadableGenerated:{webpack:()=>[9138]},loading:()=>(0,a.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:"Loading media player..."})}),u=(0,r.default)(()=>Promise.all([l.e(676),l.e(268),l.e(199)]).then(l.bind(l,6199)),{loadableGenerated:{webpack:()=>[6199]},loading:()=>(0,a.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:"Loading battery monitor..."})}),m={latitude:46.1591,longitude:-1.1522},f={navigation:e=>"".concat(e,"/@signalk/freeboard-sk/"),instrument:e=>"".concat(e,"/@mxtommy/kip/"),netflix:()=>"https://www.netflix.com",battery:e=>e.replace(":3000",":3001")+"/grafana",webcam1:()=>"https://pv.viewsurf.com/2080/Chatelaillon-Port?i=NzU4Mjp1bmRlZmluZWQ",webcam2:()=>"https://pv.viewsurf.com/1478/Chatelaillon-Plage&lt?i=NTkyMDp1bmRlZmluZWQ",weather:(e,t)=>t&&"https://embed.windy.com/embed.html?type=map&location=coordinates&metricRain=mm&metricTemp=\xb0C&metricWind=kt&zoom=10&overlay=wind&product=ecmwf&level=surface&lat=".concat(t.latitude,"&lon=").concat(t.longitude,"&message=true")};t.default=e=>{let{view:t}=e,{getSignalKValue:l}=(0,i.yC)(),[r,h]=(0,n.useState)(null),[p,b]=(0,n.useState)(null),{signalkUrl:g}=s.Z.getAll();(0,n.useEffect)(()=>{let e=()=>{try{let e=l("navigation.position")||m;h(t=>t?Math.abs(t.latitude-e.latitude)>.01||Math.abs(t.longitude-e.longitude)>.01?e:t:e),b(null)}catch(e){b("Error fetching position data"),console.error("Position fetch error:",e)}};e();let t=setInterval(e,1e4);return()=>clearInterval(t)},[l]);let w=(0,n.useMemo)(()=>{let e=f[t];if(!e)return null;try{return e(g,r)}catch(e){return console.error("Error generating URL:",e),b("Error generating application URL"),null}},[t,r,g]);return(0,a.jsx)("div",{className:"flex flex-col w-full h-full",children:(()=>{if(p)return(0,a.jsx)("div",{className:"text-red-500 p-4",children:p});switch(t){case"manual":return(0,a.jsx)(o,{path:"boats/default/docs"});case"settings":return(0,a.jsx)(c,{});case"mediaplayer":return(0,a.jsx)(d,{});case"battery":return(0,a.jsx)(u,{});default:return w&&(0,a.jsx)("iframe",{className:"flex-grow border-none",src:w,title:"External Application",onError:()=>b("Failed to load external content")})}})()})}}}]);