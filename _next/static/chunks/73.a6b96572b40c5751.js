"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73],{69073:function(e,s,l){l.r(s);var a=l(57437),t=l(2265),n=l(63321);s.default=e=>{var s,l,c,r,i,d,o;let{onSave:m}=e,x=n.Z.getAll(),h=n.Z.getComputedSignalKUrl(),u=n.Z.getBoatsData(),[p,g]=(0,t.useState)(x),[b,j]=(0,t.useState)(x.useAuthentication||!!x.username||!!x.password),[v,N]=(0,t.useState)(x.signalKUrlSet||!1),[f,k]=(0,t.useState)(null),[y,U]=(0,t.useState)(!1),[w,C]=(0,t.useState)({visible:!1,message:""}),S=(0,t.useCallback)(e=>{U(JSON.stringify(e)!==JSON.stringify(x))},[x]);(0,t.useEffect)(()=>{(async()=>{let e=n.Z.getAll();g(e),N(e.signalKUrlSet||!1),j(e.useAuthentication||!!e.username||!!e.password),e.selectedBoat&&k(u.find(s=>s.name===e.selectedBoat)||null)})()},[u]);let E=e=>{let s={...p,...e};g(s),S(s);let l={...s};e.hasOwnProperty("signalKUrlSet")?!1===e.signalKUrlSet&&(l.signalkUrl=h,l.username="",l.password=""):v||e.hasOwnProperty("signalkUrl")?b||(l.username="",l.password=""):(l.signalkUrl=h,l.username="",l.password=""),n.Z.saveConfig(l),null==m||m(l),U(!1),C({visible:!0,message:"Settings saved automatically"}),setTimeout(()=>C({visible:!1,message:""}),2e3)};return(0,a.jsxs)("div",{className:"p-4 text-white",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold mb-4 flex justify-between items-center",children:["Ocearo Configuration",w.visible&&(0,a.jsx)("span",{className:"text-sm font-normal bg-green-500 text-white px-3 py-1 rounded-full animate-pulse",children:w.message})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Connection Settings"}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-2",checked:v,onChange:e=>{N(e.target.checked),E({signalKUrlSet:e.target.checked})}}),"Set SignalK URL",!v&&(0,a.jsxs)("span",{className:"ml-2",children:["(",h,")"]})]})}),v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-medium mb-1",children:"SignalK Server URL:"}),(0,a.jsx)("input",{type:"text",className:"border p-2 w-full text-black rounded",value:p.signalkUrl||"",onChange:e=>E({signalkUrl:e.target.value})})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-2",checked:b,onChange:e=>{j(e.target.checked),E({useAuthentication:e.target.checked})}}),"Use Authentication"]})}),b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-medium mb-1",children:"Username:"}),(0,a.jsx)("input",{type:"text",className:"border p-2 w-full text-black rounded",value:p.username||"",onChange:e=>E({username:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-medium mb-1",children:"Password:"}),(0,a.jsx)("input",{type:"password",className:"border p-2 w-full text-black rounded",value:p.password||"",onChange:e=>E({password:e.target.value})})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Vessel Settings"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-medium mb-1",children:"Select Vessel:"}),(0,a.jsxs)("select",{className:"border p-2 w-full text-black rounded",value:p.selectedBoat||"",onChange:e=>{let s=e.target.value;k(u.find(e=>e.name===s)||null),E({selectedBoat:s})},children:[(0,a.jsx)("option",{value:"",children:"-- Select a Vessel --"}),u.map(e=>(0,a.jsx)("option",{value:e.name,children:e.name},e.name))]})]}),f&&(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-400",children:[(0,a.jsxs)("div",{children:["3D Model: ",f.modelPath]}),(0,a.jsxs)("div",{children:["Features: ",null===(s=f.capabilities)||void 0===s?void 0:s.join(", ")]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-medium mb-1",children:"Vessel Color:"}),(0,a.jsx)("input",{type:"color",className:"w-full h-10 rounded",value:p.primaryColor||"#000000",onChange:e=>E({primaryColor:e.target.value})})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-2",checked:p.metallicEffect||!1,onChange:e=>E({metallicEffect:e.target.checked})}),"Enable Metallic Effect"]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Display Settings"}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center text-base",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-3 h-5 w-5",checked:p.compassNorthUp||!1,onChange:e=>E({compassNorthUp:e.target.checked})}),(0,a.jsxs)("span",{children:["Compass Mode: North at Top",(0,a.jsx)("div",{className:"text-sm text-gray-400",children:p.compassNorthUp?"North at top (land navigation style)":"North at bottom (marine navigation style)"})]})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center text-base",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-3 h-5 w-5",checked:!1!==p.showAttitudeIndicator,onChange:e=>E({showAttitudeIndicator:e.target.checked})}),(0,a.jsxs)("span",{children:["Show Attitude Indicator",(0,a.jsx)("div",{className:"text-sm text-gray-400",children:!1!==p.showAttitudeIndicator?"Display roll, pitch, and yaw indicator":"Hide attitude indicator"})]})]})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium",children:["AIS Length Scaling Factor",(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Controls the scaling of AIS boats on the map (0.1 - 2.0)"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("span",{className:"text-sm",children:"0.1"}),(0,a.jsx)("input",{type:"range",className:"w-full h-10 appearance-none bg-gray-700 rounded-lg outline-none cursor-pointer",style:{WebkitAppearance:"none",appearance:"none",height:"20px",background:"linear-gradient(to right, #1E3A8A, #3B82F6)",borderRadius:"10px"},min:"0.1",max:"2.0",step:"0.1",value:p.aisLengthScalingFactor||.7,onChange:e=>E({aisLengthScalingFactor:parseFloat(e.target.value)})}),(0,a.jsx)("span",{className:"text-sm",children:"2.0"}),(0,a.jsx)("span",{className:"text-base font-semibold bg-blue-500 px-3 py-1 rounded-lg min-w-[3.5rem] text-center",children:p.aisLengthScalingFactor||.7})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Advanced Settings"}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-2",checked:p.debugMode||!1,onChange:e=>E({debugMode:e.target.checked,signalkUrl:h})}),"Debug Mode"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-2",checked:p.showCustomUrls||!1,onChange:e=>E({showCustomUrls:e.target.checked})}),"Set Custom External Tools URLs"]})}),p.showCustomUrls&&(0,a.jsxs)("div",{className:"space-y-4 p-4 border border-gray-700 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Custom External URLs"}),(0,a.jsxs)("p",{className:"text-sm text-gray-400 mb-4",children:["Customize URLs for external tools. Use ",(0,a.jsx)("code",{children:"${signalkUrl}"})," as placeholder for the SignalK URL, and ",(0,a.jsx)("code",{children:"${latitude}"})," or ",(0,a.jsx)("code",{children:"${longitude}"})," for position values. Leave empty to use the default URL."]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-medium mb-1",children:"Navigation URL:"}),(0,a.jsx)("input",{type:"text",className:"border p-2 w-full text-black rounded",placeholder:"${signalkUrl}/@signalk/freeboard-sk/",value:(null===(l=p.customExternalUrls)||void 0===l?void 0:l.navigation)||"",onChange:e=>{let s={...p.customExternalUrls};s.navigation=e.target.value,E({customExternalUrls:s})}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-medium mb-1",children:"Instrument URL:"}),(0,a.jsx)("input",{type:"text",className:"border p-2 w-full text-black rounded",placeholder:"${signalkUrl}/@mxtommy/kip/",value:(null===(c=p.customExternalUrls)||void 0===c?void 0:c.instrument)||"",onChange:e=>{let s={...p.customExternalUrls};s.instrument=e.target.value,E({customExternalUrls:s})}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-medium mb-1",children:"Dashboard URL:"}),(0,a.jsx)("input",{type:"text",className:"border p-2 w-full text-black rounded",placeholder:"${signalkUrl}/grafana",value:(null===(r=p.customExternalUrls)||void 0===r?void 0:r.dashboard)||"",onChange:e=>{let s={...p.customExternalUrls};s.dashboard=e.target.value,E({customExternalUrls:s})}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-medium mb-1",children:"Webcam 1 URL:"}),(0,a.jsx)("input",{type:"text",className:"border p-2 w-full text-black rounded",placeholder:"https://example.com/webcam1",value:(null===(i=p.customExternalUrls)||void 0===i?void 0:i.webcam1)||"",onChange:e=>{let s={...p.customExternalUrls};s.webcam1=e.target.value,E({customExternalUrls:s})}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-medium mb-1",children:"Webcam 2 URL:"}),(0,a.jsx)("input",{type:"text",className:"border p-2 w-full text-black rounded",placeholder:"https://example.com/webcam2",value:(null===(d=p.customExternalUrls)||void 0===d?void 0:d.webcam2)||"",onChange:e=>{let s={...p.customExternalUrls};s.webcam2=e.target.value,E({customExternalUrls:s})}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-medium mb-1",children:"Weather URL:"}),(0,a.jsx)("input",{type:"text",className:"border p-2 w-full text-black rounded",placeholder:"https://embed.windy.com/embed.html?location=coordinates&lat=${latitude}&lon=${longitude}",value:(null===(o=p.customExternalUrls)||void 0===o?void 0:o.weather)||"",onChange:e=>{let s={...p.customExternalUrls};s.weather=e.target.value,E({customExternalUrls:s})}})]})]})]})]}),(0,a.jsx)("div",{className:"flex space-x-4 pt-4",children:(0,a.jsx)("button",{onClick:()=>{let e=n.Z.getDefaultConfig();g(e),j(!1),e.useAuthentication=!1,N(!1),e.signalKUrlSet=!1,e.showCustomUrls=!1,e.customExternalUrls={},n.Z.saveConfig(e),U(!1)},className:"bg-oRed text-white px-4 py-2 rounded hover:bg-red-600",children:"Reset Configuration"})})]})]})}}}]);