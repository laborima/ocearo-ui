"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[677],{39677:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var s=a(57437),l=a(2265),i=a(53082),r=a(15008),c=a(51268),n=a(35217),d=e=>{let{data:t,dataKey:a,color:l,scale:r,label:c,unit:n,showPoints:d=!1,lineWidth:o=1,fillGradient:x=!1}=e,{nightMode:m}=(0,i.yC)(),h=t.filter(e=>null!==e[a]&&void 0!==e[a]);if(0===h.length)return(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:"No data available"});let g=Math.min(...h.map(e=>e[a])),u=Math.max(...h.map(e=>e[a])),v=Math.max(r.min,g-(u-g)*.1),f=Math.min(r.max,u+(u-g)*.1),j=u-g>(r.max-r.min)*.05,N=j?v:r.min,p=j?f:r.max,b=t.map((e,s)=>{let l=s/(t.length-1)*100;return null===e[a]||void 0===e[a]?{x:l,y:null,value:null,time:e.time}:{x:l,y:100-Math.min(100,Math.max(0,(e[a]-N)/(p-N)*100)),value:e[a],time:e.time}}).filter(e=>null!==e.y),y=b.reduce((e,t,a)=>e+(0===a?"M ".concat(t.x,",").concat(t.y):" L ".concat(t.x,",").concat(t.y)),""),w=Array.from({length:5}).map((e,t)=>({position:t/4*100,value:p-(p-N)/4*t}));return(0,s.jsxs)("div",{className:"h-full w-full relative",children:[(0,s.jsx)("div",{className:"absolute inset-0",children:w.map((e,t)=>(0,s.jsx)("div",{className:"absolute w-full border-t border-gray-300 opacity-40",style:{top:"".concat(e.position,"%")},children:(0,s.jsxs)("span",{className:"absolute  text-xs ".concat(m?"text-oNight":"text-white"),children:[e.value.toFixed(e.value<10?1:0),n]})},t))}),(0,s.jsx)("div",{className:"absolute bottom-0 w-full",children:t.filter((e,t)=>t%10==0).map((e,a,l)=>(0,s.jsx)("span",{className:"absolute text-xs ".concat(m?"text-oNight":"text-white"," transform -translate-x-1/2"),style:{left:"".concat(10*a/(t.length-1)*100+10,"%"),bottom:"-20px"},children:e.time.split(":").slice(1).join(":")},a))}),(0,s.jsx)("div",{className:"absolute inset-0 ".concat(x?"rightPaneBg bg-opacity-30":"bg-oGray2 bg-opacity-10"," rounded-lg")}),j&&(0,s.jsxs)("div",{className:"absolute top-0 right-0 bg-oGray2 bg-opacity-70 px-2 py-1 rounded-md text-xs text-white",children:[N.toFixed(1)," - ",p.toFixed(1),n]}),(0,s.jsxs)("svg",{className:"w-full h-full",preserveAspectRatio:"none",viewBox:"0 0 100 100",children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",{id:"gradient-".concat(a),x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:l,stopOpacity:x?"0.5":"0.3"}),(0,s.jsx)("stop",{offset:"100%",stopColor:l,stopOpacity:x?"0.1":"0.05"})]}),x&&(0,s.jsxs)("linearGradient",{id:"line-gradient-".concat(a),x1:"0",y1:"0",x2:"1",y2:"0",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:l,stopOpacity:"0.8"}),(0,s.jsx)("stop",{offset:"100%",stopColor:l,stopOpacity:"1"})]})]}),(0,s.jsx)("path",{d:"".concat(y," L ").concat(b[b.length-1].x,",100 L ").concat(b[0].x,",100 Z"),fill:"url(#gradient-".concat(a,")"),className:x?"filter drop-shadow-md":""}),(0,s.jsx)("path",{d:y,fill:"none",stroke:x?"url(#line-gradient-".concat(a,")"):l,strokeWidth:x?1.5*o:o,strokeLinecap:"round",strokeLinejoin:"round",className:x?"filter drop-shadow-sm":""}),d&&b.map((e,t)=>(0,s.jsx)("circle",{cx:e.x,cy:e.y,r:x?.8:.5,fill:l,className:"hover:r-4 transition-all duration-150 ".concat(x?"filter drop-shadow-md":""),children:(0,s.jsx)("title",{children:"".concat(c,": ").concat(e.value.toFixed(2)).concat(n)})},t))]})]})},o=a(72079),x=()=>{let{nightMode:e,getSignalKValue:t}=(0,i.yC)(),a=(0,l.useRef)(performance.now()),x=(0,l.useRef)(performance.now()),m=(0,l.useRef)(0),[h,g]=(0,l.useState)("battery"),[u,v]=(0,l.useState)("voltage"),[f,j]=(0,l.useState)("fps"),[N,p]=(0,l.useState)("1"),[b,y]=(0,l.useState)(!1),w=(0,l.useCallback)(()=>{let e=[];for(let a=0;a<=2;a++){let s=t("electrical.batteries.".concat(a,".name")),l=t("electrical.batteries.".concat(a,".voltage"));(s||l)&&e.push({id:a.toString(),name:s||"Battery ".concat(a),hasData:!0})}return 0===e.length&&e.push({id:"1",name:"Main Battery",hasData:!0}),e},[t]),[C,G]=(0,l.useState)(()=>w()),R=(0,l.useCallback)(()=>{let e=new Date().toLocaleTimeString(),a=t("electrical.batteries.".concat(N,".voltage"))||12,s=t("electrical.batteries.".concat(N,".capacity.stateOfCharge")),l=t("electrical.batteries.".concat(N,".current"))||5,c=t("electrical.batteries.".concat(N,".temperature")),n=null!==c?(0,i.G5)(c):null,d=t("electrical.batteries.".concat(N,".chemistry")),o=t("electrical.batteries.".concat(N,".name")),x=t("electrical.batteries.".concat(N,".location")),m=t("electrical.batteries.".concat(N,".dateInstalled")),h=t("electrical.batteries.".concat(N,".manufacturer.name")),g=t("electrical.batteries.".concat(N,".manufacturer.model")),u=t("electrical.batteries.".concat(N,".manufacturer.URL")),v=t("electrical.batteries.".concat(N,".associatedBus")),f=t("electrical.batteries.".concat(N,".voltage.ripple")),j=t("electrical.batteries.".concat(N,".capacity.nominal")),p=t("electrical.batteries.".concat(N,".capacity.actual")),b=t("electrical.batteries.".concat(N,".capacity.remaining")),y=t("electrical.batteries.".concat(N,".capacity.dischargeLimit")),w=t("electrical.batteries.".concat(N,".capacity.stateOfHealth")),C=t("electrical.batteries.".concat(N,".capacity.dischargeSinceFull")),G=t("electrical.batteries.".concat(N,".capacity.timeRemaining")),R=t("electrical.batteries.".concat(N,".lifetimeDischarge")),E=t("electrical.batteries.".concat(N,".lifetimeRecharge")),A="auto"===t("steering.autopilot.state"),O=t("navigation.lights")||!1;return{time:e,voltage:a,current:l,stateOfCharge:null!==s?s:(0,r.Si)(a),power:a*l,temperature:n,autopilotState:A,instrumentsOn:l>.5,navigationLightsOn:O,chemistry:d,name:o,location:x,dateInstalled:m,manufacturer:h,model:g,manufacturerURL:u,associatedBus:v,voltageRipple:f,nominalCapacity:j,actualCapacity:p,remainingCapacity:b,dischargeLimit:y,stateOfHealth:w,dischargeSinceFull:C,timeRemaining:G,lifetimeDischarge:R,lifetimeRecharge:E}},[t,N]),[E,A]=(0,l.useState)(()=>Array(60).fill(null).map(R)),[O,S]=(0,l.useState)(()=>{let e=new Date().toLocaleTimeString();return Array(60).fill({time:e,fps:60,ms:16.67,drawCalls:0,triangles:0,geometries:0,textures:0,memory:0})}),T=(0,l.useCallback)(e=>{let a=E[E.length-1],s=t("electrical.batteries.".concat(N,".voltage"))||a.voltage,l=t("electrical.batteries.".concat(N,".current"))||a.current,c=t("electrical.batteries.".concat(N,".capacity.stateOfCharge")),n=null!==c?c:(0,r.Si)(s),d=t("electrical.batteries.".concat(N,".temperature")),o=null!==d?(0,i.G5)(d):null,x=t("electrical.batteries.".concat(N,".chemistry"))||a.chemistry,m=t("electrical.batteries.".concat(N,".name"))||a.name,h=t("electrical.batteries.".concat(N,".location"))||a.location,g=t("electrical.batteries.".concat(N,".dateInstalled"))||a.dateInstalled,u=t("electrical.batteries.".concat(N,".manufacturer.name"))||a.manufacturer,v=t("electrical.batteries.".concat(N,".manufacturer.model"))||a.model,f=t("electrical.batteries.".concat(N,".manufacturer.URL"))||a.manufacturerURL,j=t("electrical.batteries.".concat(N,".associatedBus"))||a.associatedBus,p=t("electrical.batteries.".concat(N,".voltage.ripple"))||a.voltageRipple,b=t("electrical.batteries.".concat(N,".capacity.nominal"))||a.nominalCapacity,y=t("electrical.batteries.".concat(N,".capacity.actual"))||a.actualCapacity,w=t("electrical.batteries.".concat(N,".capacity.remaining"))||a.remainingCapacity,C=t("electrical.batteries.".concat(N,".capacity.dischargeLimit"))||a.dischargeLimit,G=t("electrical.batteries.".concat(N,".capacity.stateOfHealth"))||a.stateOfHealth,R=t("electrical.batteries.".concat(N,".capacity.dischargeSinceFull"))||a.dischargeSinceFull,A=t("electrical.batteries.".concat(N,".capacity.timeRemaining"))||a.timeRemaining,O=t("electrical.batteries.".concat(N,".lifetimeDischarge"))||a.lifetimeDischarge,S=t("electrical.batteries.".concat(N,".lifetimeRecharge"))||a.lifetimeRecharge;return{time:e,voltage:s,current:l,stateOfCharge:n,power:s*l,temperature:o,autopilotState:"auto"===t("steering.autopilot.state"),instrumentsOn:l>.5,navigationLightsOn:t("navigation.lights")||!1,chemistry:x,name:m,location:h,dateInstalled:g,manufacturer:u,model:v,manufacturerURL:f,associatedBus:j,voltageRipple:p,nominalCapacity:b,actualCapacity:y,remainingCapacity:w,dischargeLimit:C,stateOfHealth:G,dischargeSinceFull:R,timeRemaining:A,lifetimeDischarge:O,lifetimeRecharge:S}},[t,E,N]),L=(0,l.useRef)(null);(0,l.useEffect)(()=>{window.__OCEARO_RENDERER&&(L.current=window.__OCEARO_RENDERER)},[]),(0,l.useEffect)(()=>{let e=setInterval(()=>{G(w())},3e4);return()=>clearInterval(e)},[w]),(0,l.useEffect)(()=>{A(Array(60).fill(null).map(R))},[N,R]),(0,l.useEffect)(()=>{let e;let t=()=>{let s=new Date().toLocaleTimeString();m.current++;let l=performance.now();if(a.current,l>=x.current+1e3){var i,r,c,n,d,o,h,g;let e=1e3*m.current/(l-x.current),t=e>0?1e3/e:0,a=0,u=0,v=0,f=0,j=0;if(window.performance&&window.performance.memory&&(j=Math.round(window.performance.memory.usedJSHeapSize/1048576)),L.current){let e=L.current.info;a=(null===(i=e.render)||void 0===i?void 0:i.calls)||0,u=(null===(r=e.render)||void 0===r?void 0:r.triangles)||0,v=(null===(c=e.memory)||void 0===c?void 0:c.geometries)||0,f=(null===(n=e.memory)||void 0===n?void 0:n.textures)||0}else if(window.__OCEARO_RENDER_INFO){let e=window.__OCEARO_RENDER_INFO;a=(null===(d=e.render)||void 0===d?void 0:d.calls)||0,u=(null===(o=e.render)||void 0===o?void 0:o.triangles)||0,v=(null===(h=e.memory)||void 0===h?void 0:h.geometries)||0,f=(null===(g=e.memory)||void 0===g?void 0:g.textures)||0}S(l=>[...l.slice(1),{time:s,fps:e,ms:t,drawCalls:a,triangles:u,geometries:v,textures:f,memory:j}]),A(e=>[...e.slice(1),T(s)]),x.current=l,m.current=0}a.current=l,e=requestAnimationFrame(t)};return e=requestAnimationFrame(t),()=>cancelAnimationFrame(e)},[T]);let F={voltage:{min:10.5,max:15,step:1},current:{min:-5,max:50,step:5},soc:{min:0,max:100,step:25},temperature:{min:10,max:60,step:10}},M={fps:{min:0,max:60,step:15},drawCalls:{min:0,max:500,step:100},triangles:{min:0,max:5e5,step:1e5},memory:{min:0,max:500,step:100}},I=E[E.length-1],D=(0,r.d3)(I.voltage),P=null!==I.temperature;return(0,s.jsxs)("div",{className:"flex flex-col h-full rightPaneBg overflow-auto",children:[(0,s.jsxs)("div",{className:"flex border-b border-gray-800",children:[(0,s.jsxs)("button",{onClick:()=>g("battery"),className:"flex-1 py-3 px-4 text-sm font-medium flex items-center justify-center transition-all ".concat("battery"===h?"text-green-500 border-b-2 border-green-500":"text-gray-400 hover:text-gray-300"),children:[(0,s.jsx)(c.G,{icon:n.XEC,className:"mr-2"}),"Energy"]}),(0,s.jsxs)("button",{onClick:()=>g("graph"),className:"flex-1 py-3 px-4 text-sm font-medium flex items-center justify-center transition-all ".concat("graph"===h?"text-green-500 border-b-2 border-green-500":"text-gray-400 hover:text-gray-300"),children:[(0,s.jsx)(c.G,{icon:n.Stf,className:"mr-2"}),"Consumption"]}),(0,s.jsxs)("button",{onClick:()=>g("performance"),className:"flex-1 py-3 px-4 text-sm font-medium flex items-center justify-center transition-all ".concat("performance"===h?"text-green-500 border-b-2 border-green-500":"text-gray-400 hover:text-gray-300"),children:[(0,s.jsx)(c.G,{icon:n.ESn,className:"mr-2"}),"Performance"]})]}),(0,s.jsxs)("div",{className:"h-full",children:["battery"===h&&(0,s.jsxs)("div",{className:"p-4 flex flex-col flex-1 min-h-0 rightPaneBg",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center",children:["Battery information  ",I.stateOfCharge.toFixed(0),"%",(0,s.jsx)("button",{className:"ml-2 bg-oGray2 rounded-full w-6 h-6 flex items-center justify-center text-gray-400 hover:bg-oGray focus:outline-none focus:ring-1 focus:ring-green-500",onClick:()=>y(!b),"aria-label":"Battery details",children:(0,s.jsx)(c.G,{icon:n.Fuz,className:"text-xs"})})]}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)("select",{className:"bg-oGray2 px-2 py-1 rounded text-white text-sm border border-gray-700 focus:outline-none focus:ring-1 focus:ring-green-500",value:N,onChange:e=>p(e.target.value),children:C.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))})})]}),b&&(0,s.jsxs)("div",{className:"bg-oGray2 p-4 rounded-lg mb-6 relative",children:[(0,s.jsx)("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-white",onClick:()=>y(!1),"aria-label":"Close details",children:"\xd7"}),(0,s.jsx)("div",{className:"text-gray-400 text-sm font-medium mb-4",children:"BATTERY DETAILS"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[I.name&&(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"w-20 text-xs text-gray-400",children:"NAME"}),(0,s.jsx)("div",{className:"text-sm text-white",children:I.name})]}),I.location&&(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"w-20 text-xs text-gray-400",children:"LOCATION"}),(0,s.jsx)("div",{className:"text-sm text-white",children:I.location})]}),I.manufacturer&&(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"w-20 text-xs text-gray-400",children:"MAKER"}),(0,s.jsx)("div",{className:"text-sm text-white",children:I.manufacturer})]}),I.model&&(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"w-20 text-xs text-gray-400",children:"MODEL"}),(0,s.jsx)("div",{className:"text-sm text-white",children:I.model})]}),I.chemistry&&(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"w-20 text-xs text-gray-400",children:"CHEMISTRY"}),(0,s.jsx)("div",{className:"text-sm text-white",children:I.chemistry})]}),I.dateInstalled&&(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"w-20 text-xs text-gray-400",children:"INSTALLED"}),(0,s.jsx)("div",{className:"text-sm text-white",children:new Date(I.dateInstalled).toLocaleDateString()})]}),I.associatedBus&&(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"w-20 text-xs text-gray-400",children:"BUS"}),(0,s.jsx)("div",{className:"text-sm text-white",children:I.associatedBus})]}),I.stateOfHealth&&(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"w-20 text-xs text-gray-400",children:"HEALTH"}),(0,s.jsxs)("div",{className:"text-sm text-white",children:[(100*I.stateOfHealth).toFixed(0),"%"]})]}),null!==I.timeRemaining&&void 0!==I.timeRemaining&&(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"w-20 text-xs text-gray-400",children:"REMAINING"}),(0,s.jsxs)("div",{className:"text-sm text-white",children:[(I.timeRemaining/3600).toFixed(1)," hrs"]})]})]}),(I.nominalCapacity||I.actualCapacity||I.remainingCapacity)&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("div",{className:"text-gray-400 text-xs mb-2",children:"CAPACITY"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[I.nominalCapacity&&(0,s.jsxs)("div",{className:"bg-oGray p-2 rounded-lg text-center",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"NOMINAL"}),(0,s.jsxs)("div",{className:"text-sm text-white",children:[(I.nominalCapacity/3600).toFixed(1)," Wh"]})]}),I.actualCapacity&&(0,s.jsxs)("div",{className:"bg-oGray p-2 rounded-lg text-center",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"ACTUAL"}),(0,s.jsxs)("div",{className:"text-sm text-white",children:[(I.actualCapacity/3600).toFixed(1)," Wh"]})]}),I.remainingCapacity&&(0,s.jsxs)("div",{className:"bg-oGray p-2 rounded-lg text-center",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"REMAINING"}),(0,s.jsxs)("div",{className:"text-sm text-white",children:[(I.remainingCapacity/3600).toFixed(1)," Wh"]})]})]})]}),(I.lifetimeDischarge||I.lifetimeRecharge)&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("div",{className:"text-gray-400 text-xs mb-2",children:"LIFETIME STATISTICS"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[I.lifetimeDischarge&&(0,s.jsxs)("div",{className:"bg-oGray p-2 rounded-lg",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"DISCHARGE"}),(0,s.jsxs)("div",{className:"text-sm text-white",children:[(I.lifetimeDischarge/3600).toFixed(0)," Ah"]})]}),I.lifetimeRecharge&&(0,s.jsxs)("div",{className:"bg-oGray p-2 rounded-lg",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"RECHARGE"}),(0,s.jsxs)("div",{className:"text-sm text-white",children:[(I.lifetimeRecharge/3600).toFixed(0)," Ah"]})]})]})]})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col justify-between",children:[(0,s.jsxs)("div",{className:"relative bg-oGray2 rounded-lg p-4 mb-6",children:[(0,s.jsxs)("div",{className:"mb-2 flex justify-between items-center",children:[(0,s.jsx)("div",{children:(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:"BATTERY PERCENTAGE"})}),(0,s.jsxs)("div",{className:"px-3 py-1 rounded-lg text-sm ".concat(D?"bg-green-900 text-green-400":"bg-red-900 text-red-400"),children:[(0,s.jsx)(c.G,{icon:D?n.Tr1:n.RoX,className:"mr-2"}),D?"Charging":"Discharging"]})]}),(0,s.jsxs)("div",{className:"h-24 relative mt-4 flex flex-col justify-between",children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[(0,s.jsx)("span",{children:"State of Charge"}),I.dischargeLimit&&(0,s.jsxs)("span",{children:["Discharge Limit: ",(100*I.dischargeLimit).toFixed(0),"%"]})]}),(0,s.jsxs)("div",{className:"h-10 bg-oGray relative rounded-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500 via-yellow-500 to-green-500 opacity-20"}),I.dischargeLimit&&(0,s.jsx)("div",{className:"absolute h-full border-r-2 border-yellow-500 border-dashed",style:{left:"".concat(100*I.dischargeLimit,"%")},children:(0,s.jsx)("div",{className:"absolute -right-1 top-0 w-2 h-2 bg-yellow-500 rounded-full"})}),(0,s.jsx)("div",{className:"h-full ".concat(D?"bg-gradient-to-r from-green-600 to-green-400":"bg-gradient-to-r from-orange-500 via-yellow-400 to-green-500"),style:{width:"".concat(I.stateOfCharge,"%")},children:(0,s.jsxs)("div",{className:"absolute top-0 h-full border-r-2 border-white",style:{left:"".concat(I.stateOfCharge,"%")},children:[(0,s.jsx)("div",{className:"absolute -right-1 top-0 w-2 h-2 bg-white rounded-full"}),(0,s.jsxs)("div",{className:"absolute -right-6 -top-6 bg-oGray2 px-1 py-0.5 rounded text-xs text-white",children:[I.stateOfCharge.toFixed(0),"%"]})]})})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,s.jsxs)("div",{className:"text-xs text-white flex items-center",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-1"}),"Empty"]}),(0,s.jsx)("div",{className:"text-xs text-white bg-oGray2 px-2 py-1 rounded",children:D?"Charging":I.timeRemaining?"Time remaining: ".concat((I.timeRemaining/3600).toFixed(1)," h"):"Est. time: ".concat((I.stateOfCharge/(I.current/100)).toFixed(1)," h")}),(0,s.jsxs)("div",{className:"text-xs text-white flex items-center",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-1"}),"Full"]})]})]})]}),(0,s.jsxs)("div",{className:"bg-oGray2 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-gray-400 text-sm font-medium mb-2",children:"POWER CONSUMPTION"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(c.G,{icon:n.zvy,className:"text-gray-400 mr-2"}),(0,s.jsx)("span",{className:"text-white",children:"Autopilot"}),I.autopilotState&&(0,s.jsx)("span",{className:"ml-2 px-1.5 py-0.5 bg-green-900 text-green-400 text-xs rounded",children:"Active"})]}),(0,s.jsxs)("div",{className:"text-sm text-white font-bold",children:[I.autopilotState?(.4*I.current).toFixed(1):"0.0","%"]})]}),(0,s.jsx)("div",{className:"h-2 bg-oGray rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-blue-500",style:{width:"".concat(I.autopilotState?Math.min(80,.8*I.current):0,"%")}})})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(c.G,{icon:n.ESn,className:"text-gray-400 mr-2"}),(0,s.jsx)("span",{className:"text-white",children:"Navigation Instruments"})]}),(0,s.jsxs)("div",{className:"text-sm text-white font-bold",children:[(.3*I.current).toFixed(1),"%"]})]}),(0,s.jsx)("div",{className:"h-2 bg-oGray rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-cyan-500",style:{width:"".concat(Math.min(60,.6*I.current),"%")}})})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(c.G,{icon:n.BDt,className:"text-gray-400 mr-2"}),(0,s.jsx)("span",{className:"text-white",children:"Navigation Lights"}),I.navigationLightsOn&&(0,s.jsx)("span",{className:"ml-2 px-1.5 py-0.5 bg-green-900 text-green-400 text-xs rounded",children:"On"})]}),(0,s.jsxs)("div",{className:"text-sm text-white font-bold",children:[(I.navigationLightsOn?.2:0).toFixed(1),"%"]})]}),(0,s.jsx)("div",{className:"h-2 bg-oGray rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-amber-500",style:{width:"".concat(I.navigationLightsOn?15:0,"%")}})})]}),P&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(c.G,{icon:n.ccn,className:"text-gray-400 mr-2"}),(0,s.jsx)("span",{className:"text-white",children:"Battery Temperature"})]}),(0,s.jsxs)("div",{className:"text-sm text-white font-bold",children:[(.01*I.temperature).toFixed(1),"%"]})]}),(0,s.jsx)("div",{className:"h-2 bg-oGray rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-orange-500",style:{width:"".concat(Math.min(30,.5*I.temperature),"%")}})})]}),(0,s.jsxs)("div",{className:"mt-8 rightPaneBg bg-opacity-50 p-3 rounded-lg text-sm",children:[(0,s.jsx)("div",{className:"text-white font-medium mb-2",children:"MARINE POWER SAVING TIPS"}),(0,s.jsxs)("div",{className:"flex items-center text-green-400 mb-1",children:[(0,s.jsx)(c.G,{icon:n.BDt,className:"mr-2"}),(0,s.jsxs)("span",{children:["Turn off navigation lights during daylight to save ~",(.8*I.voltage).toFixed(1)," W"]})]}),(0,s.jsxs)("div",{className:"flex items-center text-green-400 mb-1",children:[(0,s.jsx)(c.G,{icon:n.zvy,className:"mr-2"}),(0,s.jsx)("span",{children:"Use wind vane steering when possible instead of autopilot"})]}),(0,s.jsxs)("div",{className:"flex items-center text-amber-400",children:[(0,s.jsx)(c.G,{icon:n.ESn,className:"mr-2"}),(0,s.jsxs)("span",{children:["Current power usage: ",(I.voltage*I.current).toFixed(1)," W"]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-6 text-center",children:[(0,s.jsxs)("div",{className:"bg-oGray2 p-3 rounded-lg",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"VOLTAGE"}),(0,s.jsxs)("div",{className:"text-lg font-bold text-white",children:[I.voltage.toFixed(1),"V"]}),I.voltageRipple&&(0,s.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Ripple: ",I.voltageRipple.toFixed(2),"V"]})]}),(0,s.jsxs)("div",{className:"bg-oGray2 p-3 rounded-lg",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"CURRENT"}),(0,s.jsxs)("div",{className:"text-lg font-bold text-white",children:[I.current.toFixed(1),"A"]})]}),(0,s.jsxs)("div",{className:"bg-oGray2 p-3 rounded-lg",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"POWER"}),(0,s.jsxs)("div",{className:"text-lg font-bold text-white",children:[(I.voltage*I.current).toFixed(0),"W"]})]})]})]})]}),"graph"===h&&(0,s.jsxs)("div",{className:"p-4 flex flex-col flex-1 min-h-0 rightPaneBg",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Consumption Graph"}),(0,s.jsxs)("div",{className:"flex space-x-2 bg-oGray2 rounded-lg overflow-hidden p-1",children:[(0,s.jsx)("button",{className:"px-3 py-1 rounded text-sm transition-all ".concat("voltage"===u?"bg-oGray text-white":"text-gray-400"),onClick:()=>v("voltage"),children:"Voltage"}),(0,s.jsx)("button",{className:"px-3 py-1 rounded text-sm transition-all ".concat("current"===u?"bg-oGray text-white":"text-gray-400"),onClick:()=>v("current"),children:"Current"}),(0,s.jsx)("button",{className:"px-3 py-1 rounded text-sm transition-all ".concat("soc"===u?"bg-oGray text-white":"text-gray-400"),onClick:()=>v("soc"),children:"SoC %"}),P&&(0,s.jsx)("button",{className:"px-3 py-1 rounded text-sm transition-all ".concat("temperature"===u?"bg-oGray text-white":"text-gray-400"),onClick:()=>v("temperature"),children:"Temp"})]})]}),(0,s.jsx)("div",{className:"bg-oGray2 rounded-lg p-4 mb-6",children:(0,s.jsxs)("div",{className:"h-72 relative px-4 pb-6 pt-2 overflow-hidden",children:["voltage"===u&&(0,s.jsx)(d,{data:E,dataKey:"voltage",color:"#3b82f6",scale:F.voltage,label:"Voltage",unit:"V",showPoints:!0,fillGradient:!0}),"current"===u&&(0,s.jsx)(d,{data:E,dataKey:"current",color:"#ef4444",scale:F.current,label:"Current",unit:"A",showPoints:!0,fillGradient:!0}),"soc"===u&&(0,s.jsx)(d,{data:E,dataKey:"stateOfCharge",color:"#22c55e",scale:F.soc,label:"State of Charge",unit:"%",showPoints:!0,fillGradient:!0}),"temperature"===u&&P&&(0,s.jsx)(d,{data:E,dataKey:"temperature",color:"#f97316",scale:F.temperature,label:"Temperature",unit:"\xb0C",showPoints:!0,fillGradient:!0})]})}),(0,s.jsxs)("div",{className:"bg-oGray2 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-gray-400 text-sm font-medium mb-4",children:"DETAILED CONSUMPTION BREAKDOWN"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,s.jsx)("div",{className:"border-l-4 border-green-500 pl-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"REAL/NOMINAL"}),(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:(()=>{let e=I.nominalCapacity,t=I.actualCapacity,a=I.stateOfHealth;return e&&t?"".concat(((t/e-1)*100).toFixed(1),"%"):a?"".concat((a-100).toFixed(1),"%"):"-0.9%"})()})]}),(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsx)("div",{className:"h-2 bg-oGray rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-green-500",style:{width:(()=>{let e=I.nominalCapacity,t=I.actualCapacity,a=I.stateOfHealth;return e&&t?"".concat(Math.min(100,Math.max(0,t/e*100)),"%"):a?"".concat(Math.min(100,Math.max(0,a)),"%"):"20%"})()}})})})]})}),(0,s.jsx)("div",{className:"border-l-4 border-blue-500 pl-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"AVERAGE CONSUMPTION"}),(0,s.jsxs)("div",{className:"text-lg font-bold text-white",children:[(I.voltage*I.current/1e3).toFixed(1)," kWh/hour"]})]}),(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsx)("div",{className:"h-2 bg-oGray rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-blue-500",style:{width:"35%"}})})})]})}),(0,s.jsx)("div",{className:"border-l-4 border-orange-500 pl-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"TEMPERATURE IMPACT"}),(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:P?"".concat((.05*I.temperature).toFixed(1),"%"):"0.0%"})]}),(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsx)("div",{className:"h-2 bg-oGray rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-orange-500",style:{width:P?"".concat(Math.min(50,I.temperature),"%"):"10%"}})})})]})})]})]})]}),"performance"===h&&(0,s.jsxs)("div",{className:"p-4 flex flex-col flex-1 min-h-0 rightPaneBg",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Performance Metrics"}),(0,s.jsxs)("div",{className:"flex space-x-2 bg-oGray2 rounded-lg overflow-hidden p-1",children:[(0,s.jsx)("button",{className:"px-3 py-1 rounded text-sm transition-all ".concat("fps"===f?"bg-oGray text-white":"text-gray-400"),onClick:()=>j("fps"),children:"FPS"}),(0,s.jsx)("button",{className:"px-3 py-1 rounded text-sm transition-all ".concat("drawCalls"===f?"bg-oGray text-white":"text-gray-400"),onClick:()=>j("drawCalls"),children:"Calls"}),(0,s.jsx)("button",{className:"px-3 py-1 rounded text-sm transition-all ".concat("triangles"===f?"bg-oGray text-white":"text-gray-400"),onClick:()=>j("triangles"),children:"Triangles"}),(0,s.jsx)("button",{className:"px-3 py-1 rounded text-sm transition-all ".concat("memory"===f?"bg-oGray text-white":"text-gray-400"),onClick:()=>j("memory"),children:"Memory"})]})]}),(0,s.jsx)("div",{className:"bg-oGray2 rounded-lg p-4 mb-6",children:(0,s.jsxs)("div",{className:"h-72 relative px-4 pb-6 pt-2 overflow-hidden rounded-lg",children:["fps"===f&&(0,s.jsx)(d,{data:O,dataKey:"fps",color:"#06b6d4",scale:M.fps,label:"FPS",unit:"",showPoints:!0,fillGradient:!0}),"drawCalls"===f&&(0,s.jsx)(d,{data:O,dataKey:"drawCalls",color:"#8b5cf6",scale:M.drawCalls,label:"Draw Calls",unit:"",showPoints:!0,fillGradient:!0}),"triangles"===f&&(0,s.jsx)(d,{data:O,dataKey:"triangles",color:"#6366f1",scale:M.triangles,label:"Triangles",unit:"",showPoints:!0,fillGradient:!0}),"memory"===f&&(0,s.jsx)(d,{data:O,dataKey:"memory",color:"#10b981",scale:M.memory,label:"Memory",unit:" MB",showPoints:!0,fillGradient:!0})]})}),(0,s.jsxs)("div",{className:"bg-oGray2 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-gray-400 text-sm font-medium mb-4",children:"HARDWARE PERFORMANCE STATS"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)("div",{className:"border-l-4 border-cyan-500 pl-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"CURRENT FPS"}),(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:O[O.length-1].fps.toFixed(1)})]}),(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsx)("div",{className:"h-2 bg-oGray rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-cyan-500",style:{width:"".concat(Math.min(100,O[O.length-1].fps/60*100),"%")}})})})]})}),(0,s.jsx)("div",{className:"border-l-4 border-purple-500 pl-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"FRAME TIME"}),(0,s.jsxs)("div",{className:"text-lg font-bold text-white",children:[O[O.length-1].ms.toFixed(1)," ms"]})]}),(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsx)("div",{className:"h-2 bg-oGray rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-purple-500",style:{width:"".concat(Math.min(100,100-O[O.length-1].ms/33.33*100),"%")}})})})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[(0,s.jsxs)("div",{className:"rightPaneBg bg-opacity-50 p-3 rounded-lg text-center",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"DRAW CALLS"}),(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:O[O.length-1].drawCalls})]}),(0,s.jsxs)("div",{className:"rightPaneBg bg-opacity-50 p-3 rounded-lg text-center",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"TRIANGLES"}),(0,s.jsxs)("div",{className:"text-lg font-bold text-white",children:[(O[O.length-1].triangles/1e3).toFixed(1),"k"]})]}),(0,s.jsxs)("div",{className:"rightPaneBg bg-opacity-50 p-3 rounded-lg text-center",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"MEMORY"}),(0,s.jsxs)("div",{className:"text-lg font-bold text-white",children:[O[O.length-1].memory," MB"]})]})]}),(0,s.jsxs)("div",{className:"mt-6 rightPaneBg bg-opacity-50 p-3 rounded-lg text-sm",children:[(0,s.jsx)("div",{className:"text-white font-medium mb-2",children:"SYSTEM INFO"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,s.jsx)(c.G,{icon:n.zvy,className:"mr-2 text-cyan-400"}),(0,s.jsx)("span",{children:"GPU: WebGL Renderer"})]}),(0,s.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,s.jsx)(c.G,{icon:n.$v3,className:"mr-2 text-green-400"}),(0,s.jsxs)("span",{children:["Textures: ",O[O.length-1].textures||0]})]}),(0,s.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,s.jsx)(c.G,{icon:n.hGM,className:"mr-2 text-purple-400"}),(0,s.jsxs)("span",{children:["Geometries: ",O[O.length-1].geometries||0]})]}),(0,s.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,s.jsx)(c.G,{icon:n.dT$,className:"mr-2 text-blue-400"}),(0,s.jsxs)("span",{children:["Three.js ",o.UZH]})]})]})]})]})]})]})]})}},15008:function(e,t,a){a.d(t,{Si:function(){return l},d3:function(){return i},vp:function(){return s},z:function(){return r}});let s={WARNING_THRESHOLD:50,DANGER_THRESHOLD:20,CHARGING_THRESHOLD:13.2,MIN_VOLTAGE:10.5,MAX_VOLTAGE:14.4},l=e=>{if(!e||"number"!=typeof e)return 0;if(e>=13)return 100;if(e<=s.MIN_VOLTAGE)return 0;let t=[{voltage:12.85,soc:100},{voltage:12.75,soc:90},{voltage:12.65,soc:80},{voltage:12.55,soc:70},{voltage:12.45,soc:60},{voltage:12.35,soc:50},{voltage:12.25,soc:40},{voltage:12.15,soc:30},{voltage:12.05,soc:20},{voltage:11.95,soc:15},{voltage:11.8,soc:10},{voltage:11.6,soc:5},{voltage:10.5,soc:0}];for(let a=0;a<t.length-1;a++)if(e>=t[a+1].voltage){let s=t[a].voltage,l=t[a+1].voltage,i=t[a].soc,r=t[a+1].soc;return Math.round(r+(e-l)/(s-l)*(i-r))}return 0},i=e=>e>s.CHARGING_THRESHOLD,r=e=>e>s.WARNING_THRESHOLD?"bg-oGreen":e>s.DANGER_THRESHOLD?"bg-oYellow":"bg-oRed"}}]);