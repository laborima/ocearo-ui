"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73],{69073:function(e,s,l){l.r(s);var a=l(57437),t=l(2265),n=l(63321);s.default=e=>{var s;let{onSave:l}=e,c=n.Z.getAll(),i=n.Z.getComputedSignalKUrl(),d=n.Z.getBoatsData(),[r,o]=(0,t.useState)(c),[m,x]=(0,t.useState)(!!c.username||!!c.password),[h,u]=(0,t.useState)(!1),[g,b]=(0,t.useState)(null),[p,j]=(0,t.useState)(!1),v=(0,t.useCallback)(e=>{j(JSON.stringify(e)!==JSON.stringify(c))},[c]);(0,t.useEffect)(()=>{(async()=>{let e=n.Z.getAll();o(e),e.selectedBoat&&b(d.find(s=>s.name===e.selectedBoat)||null)})()},[d]);let f=e=>{let s={...r,...e};o(s),v(s)},N=()=>{let e={...r};h?m||(e.username="",e.password=""):(e.signalkUrl=i,e.username="",e.password=""),n.Z.saveConfig(e),null==l||l(e),j(!1)};return(0,a.jsxs)("div",{className:"p-4 text-white",children:[p&&(0,a.jsxs)("div",{className:"bg-oBlue text-white px-4 py-2 rounded mb-4 flex justify-between items-center",children:[(0,a.jsx)("span",{children:"You have unsaved changes"}),(0,a.jsx)("button",{onClick:N,className:"bg-white text-black px-3 py-1 rounded text-sm hover:bg-gray-100",children:"Save Now"})]}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Ocearo Configuration"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Connection Settings"}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-2",checked:h,onChange:e=>{u(e.target.checked),v(r)}}),"Set SignalK URL",!h&&(0,a.jsxs)("span",{className:"ml-2",children:["(",i,")"]})]})}),h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-medium mb-1",children:"SignalK Server URL:"}),(0,a.jsx)("input",{type:"text",className:"border p-2 w-full text-black rounded",value:r.signalkUrl||"",onChange:e=>f({signalkUrl:e.target.value})})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-2",checked:m,onChange:e=>{x(e.target.checked),v(r)}}),"Use Authentication"]})}),m&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-medium mb-1",children:"Username:"}),(0,a.jsx)("input",{type:"text",className:"border p-2 w-full text-black rounded",value:r.username||"",onChange:e=>f({username:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-medium mb-1",children:"Password:"}),(0,a.jsx)("input",{type:"password",className:"border p-2 w-full text-black rounded",value:r.password||"",onChange:e=>f({password:e.target.value})})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Vessel Settings"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-medium mb-1",children:"Select Vessel:"}),(0,a.jsxs)("select",{className:"border p-2 w-full text-black rounded",value:r.selectedBoat||"",onChange:e=>{let s=e.target.value;b(d.find(e=>e.name===s)||null),f({selectedBoat:s})},children:[(0,a.jsx)("option",{value:"",children:"-- Select a Vessel --"}),d.map(e=>(0,a.jsx)("option",{value:e.name,children:e.name},e.name))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-medium mb-1",children:"Vessel Color:"}),(0,a.jsx)("input",{type:"color",className:"w-full h-10 rounded",value:r.primaryColor||"#000000",onChange:e=>f({primaryColor:e.target.value})})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-2",checked:r.metallicEffect||!1,onChange:e=>f({metallicEffect:e.target.checked})}),"Enable Metallic Effect"]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Advanced Settings"}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-2",checked:r.debugMode||!1,onChange:e=>f({debugMode:e.target.checked,signalkUrl:i})}),"Debug Mode"]})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium",children:["AIS Length Scaling Factor",(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Controls the scaling of AIS boats on the map (default: 0.7)"})]}),(0,a.jsx)("input",{type:"number",className:"w-full p-2 border rounded text-black",value:r.aisLengthScalingFactor||.7,step:"0.1",min:"0.1",max:"2.0",onChange:e=>f({aisLengthScalingFactor:parseFloat(e.target.value)})})]}),g&&r.debugMode&&(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-400",children:[(0,a.jsxs)("div",{children:["3D Model: ",g.modelPath]}),(0,a.jsxs)("div",{children:["Features: ",null===(s=g.capabilities)||void 0===s?void 0:s.join(", ")]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,a.jsx)("button",{onClick:N,className:"bg-oBlue text-white px-4 py-2 rounded hover:bg-blue-600",children:"Save Configuration"}),(0,a.jsx)("button",{onClick:()=>{let e=n.Z.getDefaultConfig();o(e),x(!1),u(!1),n.Z.saveConfig(e),j(!1)},className:"bg-oRed text-white px-4 py-2 rounded hover:bg-red-600",children:"Reset Configuration"})]})]})]})}}}]);